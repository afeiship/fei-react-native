{"version":3,"sources":["scripts/app.js"],"names":["angular","module","MainStickyController","$rootScope","$scope","$stateParams","$timeout","AppService","toastr","init","pageIndex","itemsPerPage","vm","items","load","busy","getSticky","page","rows","success","inResp","result","hasMoreData","length","concat","$broadcast","this","doRefresh","loadMore","appService","$inject","controller","MainRecommendController","$state","IMGSERVER","$location","BridgeService","utils","localStorageService","getLatest","window","MainMasterSayController","getMasterSay","productType","navItems","navActiveIndex","id","toMasterDetail","inItem","set","go","initCateList","inScope","getParamListByType","type","scope","__processNavItems","initWatcher","$watch","inValue","findMasterByProductType_200","__initRefresh","masterItems","inItems","forEach","item","active","defaultOne","getMemberRole","getMemberRole_200","memberRole","addMemberRoleWatcher","navCurrentItem","MainFollowController","getFollow","MasterUnhandledController","$ionicBackdrop","$ionicActionSheet","manage","show","buttons","text","action","currentItems","cancelText","buttonClicked","inIndex","judgeAction","deleteAction","findManagedPostByPage","topic","topicCurrentItem","collectionCurrentItem","execute","obj","push","initFilterEvent","$on","inSender","inArgs","postId","deletePostById_200","info","initMemberRole","MasterHandledController","MasterAllController","topNav","directive","restrict","activeIndex","templateUrl","threadItem","imgBaseUrl","tag","transclude","subTabFilter","linkFn","toggle","inEvent","tabFilterItems","index","equals","inlineOverlayVisible","collectionItemClick","collectionChildActiveIndex","topicItemClick","topicChildActiveIndex","sc","getTabFilterItems","collectionChildItems","topicChildItems","link","title","sref","subNav","radio","photoSwipe","linkShare","snapshot","judgeItemToggle","cssClass","isDisabled","authorizationInterceptor","nxDebounce","request","inData","headers","key","responseError","status","bridgeWarning","toLogin","factory","extend","RouteService","topNavItems","masterNavItems","topNavList","masterNavList","service","JudgeService","topicItems","judgeItems","img","self","inMethod","console","log","setupWebViewJavascriptBridge","bridge","registerHandler","response","share","callHandler","modelId","image","imageURL","description","responseData","alert","JSON","stringify","back","getToken","inCallback","token","setNavigationBar","isHidden","hidden","isAnimation","animation","toggleTabBar","toMemberIndex","memberID","callback","WebViewJavascriptBridge","WVJBCallbacks","WVJBIframe","document","createElement","style","display","src","documentElement","appendChild","setTimeout","removeChild","toTimer","inStartTime","inEndTime","start","Date","end","Math","abs","moment","utc","unix","showPhotoSwipe","inImgs","pswpElement","querySelectorAll","w","h","gallery","PhotoSwipe","PhotoSwipeUI_Default","history","preload","getLocationSearch","query_string","query","location","search","substring","vars","split","i","pair","decodeURIComponent","arr","ApiService","__toggle","inName","hasItem","capitalization","charAt","toUpperCase","slice","method","POST","data","getTopReplyByPostId","getReplyByTopReplyId","topReplyId","getSupportCount","getFavoriteState","findMasterManagedPostByPage_200","findAdminManagedPostByPage_200","addReplyForPost_200","content","clientType","addReplyForReply_200","parentReplyId","addPostUpvote_200","addReplyUpvote_200","replyId","getParamListByType_112","judgePostByMaster","tastePostByMaster_200","tastePostByAdmin_200","identifyResult","classify","replyContent","transferPostByMaster_200","findMyPostById_200","findPostUpvotedMemberIconByPostId_200","addOrDeleteFocus_112","targetMemberId","focus","findTastePostById_200","findPostById_200","toggleFollow","hasFollow","msg","memberId","isSuccess","addFavorite","favorite","removeFavorite","addUpvoted","upvoted","upvoteCount","parseInt","removeUpvoted","addReplyUpvoted","removeReplyUpvoted","toggleFavorite","call","toggleSupport","toggleReplySupport","toTopicDetail","linkTitle","topicType","linkFileName","toTimestamp","normalizeDateStr","String","replace","getTime","now","toUnixTimestamp","toLevelImage","padFilter","val","pad","n","len","num","isNaN","toJudgeImg","judgeItemToIndex","__itemToIndex","topicItemToIndex","inItemsName","filter","$http","APISERVER","_getUrl","_normalizeParams","_tokenToAuthorization","inToken","REQUEST","inOptions","hash","Authorization","dcToken","dctoken","Content-Type","transformRequest","value","str","encodeURIComponent","join","url","GET","params","TopicDetailController","$sce","replyPlaceholder","currentReplyItem","initThreadDetail","detail","images","__toArray","attachments","adUrl","trustAsResourceUrl","save","__addReplyForReply_200","__addReplyForPost_200","cgReply","memberNickname","fbFocus","topicFromState","name","inString","replyItem","userItem","get","MasterDetailController","MainController","$ionicSlideBoxDelegate","slideChange","currentIndex","activeSlideIndex","topNavActiveIndex","MasterController","processNavItems","ddItemClick","ddVisible","$emit","$watchGroup","inIndexArray","isDefined","masterNavActiveIndex","dataAll","dataUnhandled","dataHanlded","ddItems","undefined","JudgeController","judgeItemToIndexFilter","topicItemToIndexFilter","getCollectionCateList","addCollectionItemsWatcher","addIdentifyCountWatcher","judgeItemClick","judgeStatus","__judgeNormalAction","__judgeDisabledAction","judgeTransferChange","transferChangeStatus","initProductType","collectionCateItems","initJudgeData","judgeData","identifyCount","judgeActiveIndex","topicActiveIndex","__initJudgeContent","replyVoList","judgeService","pop","__saveJudgeData","cateItemClick","stopPropagation","__getJudgeIndex","judgeContent","judgeCurrentItem","inType","collectionModel","runBlock","$log","$ionicLoading","nxIsLoading","__preventALl","preventDefault","setFullScreen","el","querySelector","element","addClass","setStandardScreen","removeClass","checkLatestToken","IMG","topNavVisible","masterFromState","isLoading","template","noBackdrop","hide","evt","toState","toParams","fromState","fromParams","stateName","indexOf","masterIndex","addEventListener","loadingContainer","backdrop","_element","off","on","run","routerConfig","$stateProvider","$urlRouterProvider","state","abstract","controllerAs","views","recommend","follow","master-say","sticky","all","handled","unhandled","otherwise","config","constant","malarkey","$httpProvider","$logProvider","$ionicConfigProvider","toastrConfig","localStorageServiceProvider","HTTP_TIMEOUT","lang","relativeTime","future","past","s","m","mm","hh","d","dd","M","MM","y","yy","defaults","timeout","interceptors","transition","backButton","icon","previousTitleText","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","preventOpenDuplicates","progressBar","setPrefix","setStorageType","setNotify","$templateCache","put"],"mappings":"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","file":"scripts/app-756c08cea0.js","sourcesContent":["(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix', [\n      'ngAnimate',\n      'ionic',\n      'ngCookies',\n      'ngTouch',\n      'ngSanitize',\n      'ngMessages',\n      'ngAria',\n      'ui.router',\n      'toastr',\n      'timer',\n      'LocalStorageModule',\n      'angularMoment',\n      'nx.widget'\n    ]);\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .controller('MainStickyController', MainStickyController);\n\n  /** @ngInject */\n  function MainStickyController($rootScope, $scope, $stateParams, $timeout, AppService, toastr) {\n    var vm = this, pageIndex, itemsPerPage;\n    vm.doRefresh = init;\n    vm.loadMore = load;\n    vm.appService = AppService;\n\n\n    init();\n\n    function init() {\n      pageIndex = 1;\n      itemsPerPage = 3;\n      //存储帖子数据\n      vm.items = [];\n      load();\n    }\n\n\n    function load() {\n      $rootScope.busy = true;\n      AppService.getSticky({\n        page: pageIndex,\n        rows: itemsPerPage\n      }).success(function (inResp) {\n        var result = inResp.rows;\n        //取出的数据数量与分页的数量相等，则表示还有下一页，小于分页的数量，则表示没有下一页啦\n        vm.hasMoreData = result.length === itemsPerPage;\n        vm.items = vm.items.concat(result);\n      }).finally(function () {\n        $scope.$broadcast('scroll.refreshComplete');\n        $scope.$broadcast('scroll.infiniteScrollComplete');\n      });\n      pageIndex++;\n    }\n\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .controller('MainRecommendController', MainRecommendController);\n\n  /** @ngInject */\n  function MainRecommendController($rootScope, $scope, $state, $stateParams, $timeout, AppService, IMGSERVER, $location, BridgeService, utils, localStorageService) {\n    var vm = this, pageIndex, itemsPerPage;\n    window.vm = vm;\n    vm.doRefresh = init;\n    vm.loadMore = load;\n    vm.appService = AppService;\n\n\n    init();\n\n    function init() {\n      pageIndex = 1;\n      itemsPerPage = 3;\n      //存储帖子数据\n      vm.items = [];\n      load();\n    }\n\n    function load() {\n      AppService.getLatest({\n        page: pageIndex,\n        rows: itemsPerPage\n      }).success(function (inResp) {\n        var result = inResp.rows;\n        //取出的数据数量与分页的数量相等，则表示还有下一页，小于分页的数量，则表示没有下一页啦\n        vm.hasMoreData = result.length === itemsPerPage;\n        vm.items = vm.items.concat(result);\n      }).finally(function () {\n        $scope.$broadcast('scroll.refreshComplete');\n        $scope.$broadcast('scroll.infiniteScrollComplete');\n      });\n      pageIndex++;\n    }\n\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .controller('MainMasterSayController', MainMasterSayController);\n\n  /** @ngInject */\n  function MainMasterSayController($rootScope, $scope, $state, $stateParams, $timeout, AppService, toastr, localStorageService) {\n    var vm = this, pageIndex, itemsPerPage;\n\n    window.vm = vm;\n    vm.doRefresh = __initRefresh;\n    vm.loadMore = load;\n    vm.toMasterDetail = toMasterDetail;\n\n    vm.appService = AppService;\n    vm.navCurrentItem = null;\n\n\n    vm.navItems = [];\n    vm.navActiveIndex = -1;\n    vm.masterItems = [];\n    vm.memberRole = 'NORMAL';\n\n    initWatcher();\n    init();\n    addMemberRoleWatcher();\n\n\n    function init() {\n      pageIndex = 1;\n      itemsPerPage = 3;\n      vm.items = [];\n    }\n\n\n    function load() {\n      AppService.getMasterSay({\n        page: pageIndex,\n        rows: itemsPerPage,\n        productType: vm.navItems[vm.navActiveIndex].id\n      }).success(function (inResp) {\n        var result = inResp.rows;\n        vm.hasMoreData = result.length === itemsPerPage;\n        vm.items = vm.items.concat(result);\n      }).finally(function () {\n        $scope.$broadcast('scroll.refreshComplete');\n        $scope.$broadcast('scroll.infiniteScrollComplete');\n      });\n      pageIndex++;\n    }\n\n\n    //获取掌门信息\n    function toMasterDetail(inItem) {\n      localStorageService.set('master-detail', inItem);\n      $state.go('master-detail');\n    }\n\n    //todo:backend bug:\n    function initCateList(inScope) {\n      AppService.getParamListByType({\n        type: 'PRD_TYPE',\n        scope: inScope\n      }).success(function (inResp) {\n        if (inResp.length) {\n          //重组数据，符合navActive格式\n          vm.navItems = __processNavItems(inResp);\n          //藏品选中索引\n          vm.navActiveIndex = 0;\n        }\n      });\n    }\n\n    function initWatcher() {\n      $scope.$watch(function () {\n        return vm.navActiveIndex;\n      }, function (inValue) {\n        if (inValue !== -1) {\n          findMasterByProductType_200();\n          __initRefresh();\n        }\n      });\n    }\n\n    //加载藏品种类的掌门列表\n    function findMasterByProductType_200() {\n      AppService.findMasterByProductType_200({\n        page: pageIndex,\n        rows: 4,\n        productType: vm.navItems[vm.navActiveIndex].id\n      }).success(function (inResp) {\n        vm.masterItems = inResp;\n      });\n    }\n\n    function __processNavItems(inItems) {\n      (inItems || []).forEach(function (item) {\n        item.active = item.defaultOne;\n      });\n      return inItems;\n    }\n\n    function __initRefresh() {\n      init();\n      load();\n      getMemberRole();\n    }\n\n    function getMemberRole() {\n      AppService.getMemberRole_200().success(function (inResp) {\n        vm.memberRole = inResp.result;\n      });\n    }\n\n\n    function addMemberRoleWatcher() {\n      $scope.$watch(function () {\n        return vm.memberRole;\n      }, function (inValue) {\n        //传递1的时候，不包括综合，传递 2的时候包括综合\n        var scope = (inValue == 'SUPER_MASTER') ? 2 : 1;\n        initCateList(scope);\n      });\n    }\n\n\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .controller('MainFollowController', MainFollowController);\n\n  /** @ngInject */\n  function MainFollowController($rootScope, $scope, $stateParams, $timeout, AppService, toastr) {\n    \n    var vm = this, pageIndex, itemsPerPage;\n    vm.doRefresh = init;\n    vm.loadMore = load;\n    vm.appService = AppService;\n\n\n    init();\n\n    function init() {\n      pageIndex = 1;\n      itemsPerPage = 3;\n      //存储帖子数据\n      vm.items = [];\n      load();\n    }\n\n    function load() {\n      AppService.getFollow({\n        page: pageIndex,\n        rows: itemsPerPage\n      }).success(function (inResp) {\n        var result = inResp.rows;\n        //取出的数据数量与分页的数量相等，则表示还有下一页，小于分页的数量，则表示没有下一页啦\n        vm.hasMoreData = result.length === itemsPerPage;\n        vm.items = vm.items.concat(result);\n      }).finally(function () {\n        $scope.$broadcast('scroll.refreshComplete');\n        $scope.$broadcast('scroll.infiniteScrollComplete');\n      });\n      pageIndex++;\n    }\n\n\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .controller('MasterUnhandledController', MasterUnhandledController);\n\n  /** @ngInject */\n  function MasterUnhandledController($ionicBackdrop, $rootScope, $scope, $state, $ionicActionSheet, AppService, BridgeService, toastr) {\n\n\n    var vm = this, pageIndex, itemsPerPage;\n\n    window.vm = vm;\n    vm.manage = manage;\n    vm.doRefresh = init;\n    vm.loadMore = load;\n    vm.appService = AppService;\n    vm.memberRole = 'NORMAL';\n\n\n    function manage(inItem) {\n      $ionicActionSheet.show({\n        buttons: [\n          {text: '品评', action: 'judge', currentItems: inItem},\n          {text: '删除', action: 'delete', currentItems: inItem}\n        ],\n        cancelText: '取消',\n        buttonClicked: function (inIndex, inItem) {\n          switch (inItem.action) {\n            case 'judge':\n              judgeAction(inItem);\n              break;\n            case 'delete':\n              deleteAction(inItem);\n              break;\n          }\n          return true;\n        }\n      });\n    }\n\n    //初始化分类点击事件\n    initMemberRole();\n\n    //初始化数据\n    function init() {\n      pageIndex = 1;\n      itemsPerPage = 3;\n      //存储帖子数据\n      vm.items = [];\n      //加载页面数据\n      load();\n    }\n\n    function load() {\n      AppService.findManagedPostByPage({\n        page: pageIndex,\n        rows: itemsPerPage,\n        memberRole: vm.memberRole,\n        topic: $rootScope.topicCurrentItem.id,\n        productType: $rootScope.collectionCurrentItem.id,\n        execute: false\n      }).success(function (inResp) {\n        var result = inResp.rows;\n        vm.hasMoreData = result.length === itemsPerPage;\n        result.forEach(function (obj) {\n          vm.items.push(obj);\n        });\n      }).finally(function () {\n        $scope.$broadcast('scroll.refreshComplete');\n        $scope.$broadcast('scroll.infiniteScrollComplete');\n      });\n      pageIndex++;\n    }\n\n    function initFilterEvent() {\n      if($rootScope.topicCurrentItem){\n        init();  \n      }\n      $rootScope.$on('filterChange', function (inSender, inArgs) {\n        init();\n      });\n    }\n\n\n    function judgeAction(inItem) {\n      $state.go('judge', {\n        postId: inItem.currentItems.id\n      });\n    }\n\n    function deleteAction(inItem) {\n      AppService.deletePostById_200({\n        postId: inItem.currentItems.id\n      }).success(function (inResp) {\n        toastr.info('删除成功~');\n      })\n    }\n\n    function initMemberRole() {\n      AppService.getMemberRole_200().success(function (inResp) {\n        vm.memberRole = inResp.result;\n        initFilterEvent();\n      });\n    }\n\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .controller('MasterHandledController', MasterHandledController);\n\n  /** @ngInject */\n  function MasterHandledController($ionicBackdrop, $rootScope, $scope, $state, $ionicActionSheet, AppService, BridgeService, toastr) {\n\n    var vm = this, pageIndex, itemsPerPage;\n\n    window.vm = vm;\n    vm.manage = manage;\n    vm.doRefresh = init;\n    vm.loadMore = load;\n    vm.appService = AppService;\n    vm.memberRole = 'NORMAL';\n\n    function manage(inItem) {\n      $ionicActionSheet.show({\n        buttons: [\n          {text: '品评', action: 'judge', currentItems: inItem},\n          {text: '删除', action: 'delete', currentItems: inItem}\n        ],\n        cancelText: '取消',\n        buttonClicked: function (inIndex, inItem) {\n          switch (inItem.action) {\n            case 'judge':\n              judgeAction(inItem);\n              break;\n            case 'delete':\n              deleteAction(inItem);\n              break;\n          }\n          return true;\n        }\n      });\n    }\n\n    //初始化分类点击事件\n    initMemberRole();\n\n    //初始化数据\n    function init() {\n      pageIndex = 1;\n      itemsPerPage = 3;\n      //存储帖子数据\n      vm.items = [];\n      //加载页面数据\n      load();\n    }\n\n    function load() {\n      AppService.findManagedPostByPage({\n        page: pageIndex,\n        rows: itemsPerPage,\n        memberRole: vm.memberRole,\n        topic: $rootScope.topicCurrentItem.id,\n        productType: $rootScope.collectionCurrentItem.id,\n        execute: true\n      }).success(function (inResp) {\n        var result = inResp.rows;\n        vm.hasMoreData = result.length === itemsPerPage;\n        result.forEach(function (obj) {\n          vm.items.push(obj);\n        });\n      }).finally(function () {\n        $scope.$broadcast('scroll.refreshComplete');\n        $scope.$broadcast('scroll.infiniteScrollComplete');\n      });\n      pageIndex++;\n    }\n\n    function initFilterEvent() {\n      if($rootScope.topicCurrentItem){\n        init();\n      }\n      $rootScope.$on('filterChange', function (inSender, inArgs) {\n        init();\n      });\n    }\n\n\n    function judgeAction(inItem) {\n      $state.go('judge', {\n        postId: inItem.currentItems.id\n      });\n    }\n\n    function deleteAction(inItem) {\n      AppService.deletePostById_200({\n        postId: inItem.currentItems.id\n      }).success(function (inResp) {\n        toastr.info('删除成功~');\n      })\n    }\n\n    function initMemberRole() {\n      AppService.getMemberRole_200().success(function (inResp) {\n        vm.memberRole = inResp.result;\n        initFilterEvent();\n      });\n    }\n\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .controller('MasterAllController', MasterAllController);\n\n  /** @ngInject */\n  function MasterAllController($ionicBackdrop, $rootScope, $scope, $state, $stateParams, $ionicActionSheet, AppService, BridgeService, toastr) {\n    var vm = this, pageIndex, itemsPerPage;\n\n    window.vm = vm;\n    vm.manage = manage;\n    vm.doRefresh = init;\n    vm.loadMore = load;\n    vm.appService = AppService;\n    vm.memberRole = 'NORMAL';\n\n\n    function manage(inItem) {\n      $ionicActionSheet.show({\n        buttons: [\n          {text: '品评', action: 'judge', currentItems: inItem},\n          {text: '删除', action: 'delete', currentItems: inItem}\n        ],\n        cancelText: '取消',\n        buttonClicked: function (inIndex, inItem) {\n          switch (inItem.action) {\n            case 'judge':\n              judgeAction(inItem);\n              break;\n            case 'delete':\n              deleteAction(inItem);\n              break;\n          }\n          return true;\n        }\n      });\n    }\n\n    //初始化分类点击事件\n    initMemberRole();\n\n    //初始化数据\n    function init() {\n      pageIndex = 1;\n      itemsPerPage = 3;\n      //存储帖子数据\n      vm.items = [];\n      //加载页面数据\n      load();\n    }\n\n    function load() {\n      AppService.findManagedPostByPage({\n        page: pageIndex,\n        rows: itemsPerPage,\n        memberRole: vm.memberRole,\n        topic: $rootScope.topicCurrentItem.id,\n        productType: $rootScope.collectionCurrentItem.id,\n        execute: null\n      }).success(function (inResp) {\n        var result = inResp.rows;\n        vm.hasMoreData = result.length === itemsPerPage;\n        result.forEach(function (obj) {\n          vm.items.push(obj);\n        });\n      }).finally(function () {\n        $scope.$broadcast('scroll.refreshComplete');\n        $scope.$broadcast('scroll.infiniteScrollComplete');\n      });\n      pageIndex++;\n    }\n\n    function initFilterEvent() {\n      if($rootScope.topicCurrentItem){\n        init();\n      }\n      $rootScope.$on('filterChange', function (inSender, inArgs) {\n        init();\n      });\n    }\n\n\n    function judgeAction(inItem) {\n      $state.go('judge', {\n        postId: inItem.currentItems.id\n      });\n    }\n\n    function deleteAction(inItem) {\n      AppService.deletePostById_200({\n        postId: inItem.currentItems.id\n      }).success(function (inResp) {\n        init();\n        toastr.info('删除成功~');\n      })\n    }\n\n    function initMemberRole() {\n      AppService.getMemberRole_200().success(function (inResp) {\n        vm.memberRole = inResp.result;\n        initFilterEvent();\n      });\n    }\n\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .directive('topNav', topNav);\n\n  /** @ngInject */\n  function topNav($rootScope) {\n    var directive = {\n      restrict: 'E',\n      scope: {\n        activeIndex: '=',\n        items: '='\n      },\n      templateUrl: 'app/components/top-nav/tmpl.html'\n    };\n\n    return directive;\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .directive('threadItem', threadItem);\n\n  /** @ngInject */\n  function threadItem($rootScope) {\n    var directive = {\n      restrict: 'E',\n      scope: {\n        vm: '=',\n        imgBaseUrl: '@',\n        manage: '@'\n      },\n      templateUrl: 'app/components/thread-item/tmpl.html'\n    };\n\n    return directive;\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .directive('tag', tag);\n\n  /** @ngInject */\n  function tag($rootScope) {\n    var directive = {\n      restrict: 'E',\n      transclude: true,\n      scope: {\n        active: '@'\n      },\n      templateUrl: 'app/components/tag/tmpl.html'\n    };\n\n    return directive;\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .directive('subTabFilter', subTabFilter);\n\n  /** @ngInject */\n  function subTabFilter() {\n    var directive = {\n      restrict: 'E',\n      scope: {\n        collectionChildItems: '=',\n        collectionChildActiveIndex: '=',\n        topicChildItems: '=',\n        topicChildActiveIndex: '='\n      },\n      templateUrl: 'app/components/sub-tab-filter/tmpl.html',\n      link: linkFn\n    };\n\n    return directive;\n\n\n    function linkFn(scope) {\n      window.sc = scope;\n      scope.toggle = toggle;\n      scope.tabFilterItems = getTabFilterItems();\n      scope.activeIndex = 0;\n      scope.collectionItemClick = collectionItemClick;\n      scope.topicItemClick = topicItemClick;\n\n      function toggle(inItem, inEvent) {\n        scope.tabFilterItems.forEach(function (item, index) {\n          if (!angular.equals(inItem, item)) {\n            item.active = false;\n          } else {\n            scope.activeIndex = index;\n          }\n        });\n        inItem.active = !inItem.active;\n        scope.inlineOverlayVisible = inItem.active;\n      }\n\n\n      function collectionItemClick(inItem, inIndex) {\n        scope.collectionChildActiveIndex = inIndex;\n      }\n\n      function topicItemClick(inItem, inIndex) {\n        scope.topicChildActiveIndex = inIndex;\n      }\n\n\n    }\n  }\n\n  function getTabFilterItems() {\n    return [\n      {\n        title: '藏品',\n        active: false,\n        sref: 'collection'\n      },\n      {\n        title: '话题',\n        active: false,\n        sref: 'topic'\n      }\n    ];\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .directive('subNav', subNav);\n\n  /** @ngInject */\n  function subNav($rootScope) {\n    var directive = {\n      restrict: 'E',\n      scope: {\n        activeIndex: '=',\n        items: '='\n      },\n      templateUrl: 'app/components/sub-nav/tmpl.html'\n    };\n\n    return directive;\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .directive('radio', radio);\n\n  /** @ngInject */\n  function radio($rootScope) {\n    var directive = {\n      restrict: 'E',\n      transclude: true,\n      scope: {\n        active: '='\n      },\n      templateUrl: 'app/components/radio/tmpl.html'\n    };\n\n    return directive;\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .directive('photoSwipe', photoSwipe);\n\n  /** @ngInject */\n  function photoSwipe($timeout) {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/components/photo-swipe/tmpl.html'\n    };\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .directive('linkShare', linkShare);\n\n  /** @ngInject */\n  function linkShare($rootScope) {\n    var directive = {\n      restrict: 'E',\n      transclude: true,\n      scope: {\n        snapshot: '@'\n      },\n      templateUrl: 'app/components/link-share/tmpl.html'\n    };\n    return directive;\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .directive('judgeItemToggle', judgeItemToggle);\n\n  /** @ngInject */\n  function judgeItemToggle($rootScope, $timeout) {\n    var directive = {\n      restrict: 'E',\n      transclude: true,\n      scope: {\n        cssClass: '@',\n        active: '=',\n        isDisabled: '@'\n      },\n      templateUrl: 'app/components/judge-item-toggle/tmpl.html'\n    };\n\n    return directive;\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .factory('authorizationInterceptor', authorizationInterceptor);\n\n  var extend = angular.extend;\n\n  /** @ngInject */\n  function authorizationInterceptor(BridgeService, nxDebounce, $rootScope) {\n    return {\n      request: function (inData) {\n        var headers = inData.headers;\n        for (var key in headers) {\n          if (!headers[key]) {\n            delete headers[key];\n          }\n        }\n        return inData;\n      },\n      responseError: function (inResp) {\n        if (inResp.status == 401) {\n          if (BridgeService.bridgeWarning('toLogin')) {\n            nxDebounce(function () {\n              BridgeService.toLogin();\n            }, 500);\n          }\n        }\n        return inResp;\n      }\n    }\n  }\n})();\n\n(function () {\n  'use strict';\n\n\n  angular\n    .module('dacangRemix')\n    .service('RouteService', RouteService);\n\n  function RouteService() {\n    this.topNavItems = [\n      {\n        title: '推荐',\n        sref: 'recommend',\n        active: false\n      },\n      {\n        title: '关注',\n        sref: 'follow',\n        active: true\n      },\n      {\n        title: '掌门说',\n        sref: 'master-say',\n        active: true\n      },\n      {\n        title: '精华',\n        sref: 'sticky',\n        active: true\n      }\n    ];\n\n    this.masterNavItems = [\n      {\n        title: '全部',\n        active: false,\n        sref: 'master.all'\n      },\n      {\n        title: '未处理',\n        active: false,\n        sref: 'master.unhandled'\n      },\n      {\n        title: '已处理',\n        active: false,\n        sref: 'master.handled'\n      }\n    ];\n    \n\n    this.topNavList = [\n      'main.recommend',\n      'main.follow',\n      'main.master-say',\n      'main.sticky'\n    ];\n\n    this.masterNavList = [\n      'master.all',\n      'master.unhandled',\n      'master.handled'\n    ];\n\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n\n\n  angular\n    .module('dacangRemix')\n    .service('JudgeService', JudgeService);\n\n  function JudgeService() {\n    this.topicItems = [\n      {\n        id: 'HIGHLIGHT',\n        text: '精华贴'\n      },\n      {\n        id: 'KNOWLEDGE',\n        text: '知识贴'\n      }\n    ];\n\n    this.judgeItems = [\n      {\n        id: 'NEW',\n        text: '新',\n        active: false,\n        img:'tag-zhongqi-new.png'\n      },\n      {\n        id: 'ASSAYS',\n        text: '药',\n        active: false,\n        img:'tag-zhongqi-assays.png'\n      },\n      {\n        id: 'DOUBT',\n        text: '存疑',\n        active: false,\n        img:'tag-zhongqi-doubt.png'\n      },\n      {\n        id: 'GENUINE',\n        text: '大开门',\n        active: false,\n        img:'tag-zhongqi-genuine.png'\n      },\n      {\n        id: 'EXQUISITE',\n        text: '精品',\n        active: false,\n        img:'tag-zhongqi-exquisite.png'\n      },\n      {\n        id: 'TRESON',\n        text: '重器',\n        active: false,\n        img:'tag-zhongqi-treson.png'\n      }\n    ];\n  }\n\n\n})();\n\n(function (window) {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .service('BridgeService', BridgeService);\n\n  var extend = angular.extend;\n\n  /** @ngInject */\n  function BridgeService($rootScope) {\n    var self = this;\n\n    this.bridgeWarning = function (inMethod) {\n      if (!self[inMethod]) {\n        console.log('[Warning]: Hybrid bridge has not connect yet!');\n      }\n      return self[inMethod];\n    };\n\n\n    //IOS bridge:\n    setupWebViewJavascriptBridge(function (bridge) {\n\n      bridge.registerHandler('bridgeReady', function (response) {\n        //console.log('ready');\n      });\n\n      self.share = function (inData) {\n        bridge.callHandler('share', {\n          modelId: inData.modelId,\n          type: inData.type,\n          title: inData.type,\n          image: inData.image,\n          imageURL: inData.imageURL,\n          description: inData.description\n        }, function responseCallback(responseData) {\n          alert(\"JS received response:\" + JSON.stringify(responseData))\n        });\n      };\n\n      self.back = function () {\n        bridge.callHandler('back');\n      };\n\n      self.toLogin = function () {\n        bridge.callHandler('login');\n      };\n\n      self.getToken = function (inCallback) {\n        bridge.callHandler('getToken', null, function(token){\n          inCallback(token);\n        });\n      };\n\n      self.setNavigationBar = function (inData) {\n        bridge.callHandler('setNavigationbar', {\n          isHidden: inData.hidden,\n          isAnimation: inData.animation\n        });\n      };\n\n      self.toggleTabBar = function (inData) {\n        bridge.callHandler('toggleTabBar', {\n          isHidden: inData.hidden\n        });\n      };\n\n      self.toMemberIndex = function (inData) {\n        bridge.callHandler('gotoMemberMainPage', {\n          memberID: inData.memberID\n        })\n      };\n\n    });\n  }\n\n\n  function setupWebViewJavascriptBridge(callback) {\n    if (window.WebViewJavascriptBridge) {\n      return callback(WebViewJavascriptBridge);\n    }\n    if (window.WVJBCallbacks) {\n      return window.WVJBCallbacks.push(callback);\n    }\n    window.WVJBCallbacks = [callback];\n    var WVJBIframe = document.createElement('iframe');\n    WVJBIframe.style.display = 'none';\n    WVJBIframe.src = 'wvjbscheme://__BRIDGE_LOADED__';\n    document.documentElement.appendChild(WVJBIframe);\n    setTimeout(function () {\n      document.documentElement.removeChild(WVJBIframe)\n    }, 0);\n  }\n\n})(window);\n\n(function () {\n  'use strict';\n\n\n  angular\n    .module('dacangRemix')\n    .factory('utils', utils);\n\n  /** @ngInject */\n  function utils(IMGSERVER) {\n    return {\n      toTimer: toTimer,\n      getLocationSearch: getLocationSearch,\n      showPhotoSwipe: showPhotoSwipe\n    };\n\n\n    function toTimer(inStartTime, inEndTime) {\n      //todo:Must be not a nagative number:\n      var start = +new Date();\n      var end = +new Date(inEndTime);\n      return Math.abs(moment.utc(end - start).unix());\n    }\n\n    function showPhotoSwipe(inIndex, inImgs) {\n      var index = inIndex || 0;\n      var pswpElement = document.querySelectorAll('.photo-swipe')[0];\n      var items = [];\n      inImgs.forEach(function (img) {\n        items.push({\n          src: IMGSERVER + '/' + img,\n          w: 800,\n          h: 600\n        });\n      });\n\n      // Initializes and opens PhotoSwipe\n      var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {\n        index: index,\n        history: false,\n        preload:[1,2]\n      });\n\n      gallery.init();\n    }\n\n    function getLocationSearch() {\n      var query_string = {};\n      var query = window.location.search.substring(1);\n      var vars = query.split(\"&\");\n      for (var i = 0; i < vars.length; i++) {\n        var pair = vars[i].split(\"=\");\n        // If first entry with this name\n        if (typeof query_string[pair[0]] === \"undefined\") {\n          query_string[pair[0]] = decodeURIComponent(pair[1]);\n          // If second entry with this name\n        } else if (typeof query_string[pair[0]] === \"string\") {\n          var arr = [query_string[pair[0]], decodeURIComponent(pair[1])];\n          query_string[pair[0]] = arr;\n          // If third or later entry with this name\n        } else {\n          query_string[pair[0]].push(decodeURIComponent(pair[1]));\n        }\n      }\n\n      return query_string;\n    }\n\n  }\n\n})();\n\n/**\n * Created by 13501 on 2016/7/25.\n */\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .service('AppService', AppService);\n\n  /** @ngInject */\n\n  function AppService($state, toastr, BridgeService, IMGSERVER, ApiService) {\n    //获取推荐帖子的接口数据\n    this.getLatest = function (inData) {\n      return ApiService.POST('/mobile/pmall/findPostByPage_200', {\n        data: {\n          page: inData.page || 1,\n          rows: inData.rows || 10\n        }\n      });\n    };\n    //获取关注帖子的接口数据\n    this.getFollow = function (inData) {\n      return ApiService.POST('/mobile/pmall/findFocusPostByPage_200', {\n        data: {\n          page: inData.page || 1,\n          rows: inData.rows || 10\n        }\n      });\n    };\n    //获取掌门说帖子的接口数据\n    this.getMasterSay = function (inData) {\n      return ApiService.POST('/mobile/pmall/findMasterReplyPostByPage_200', {\n        data: {\n          page: inData.page || 1,\n          rows: inData.rows || 10,\n          productType: inData.productType || null\n        }\n      });\n    };\n\n    //todo:backend bug\n    //获取藏品类型的接口数据\n    //增加了一个可选参数，scope，用来控制是否 获取“综合”这个选项，传递1的时候，不包括综合，传递 2的时候包括综合\n    this.getParamListByType = function (inData) {\n      return ApiService.POST('/mobile/pmall/getParamListByType_200', {\n        data: {\n          type: inData.type || 'PRD_TYPE',\n          scope: inData.scope || 2\n        }\n      });\n    };\n    //根据指定藏品类型获取掌门列表的接口数据\n    this.findMasterByProductType_200 = function (inData) {\n      return ApiService.POST('/mobile/pmall/findMasterByProductType_200', {\n        data: {\n          page: inData.page || 1,\n          rows: inData.rows || 10,\n          productType: inData.productType || null\n        }\n      });\n    };\n\n    //获取精华帖子的接口数据\n    this.getSticky = function (inData) {\n      return ApiService.POST('/mobile/pmall/findHighlightPostByPage_200', {\n        data: {\n          page: inData.page || 1,\n          rows: inData.rows || 10\n        }\n      });\n    };\n\n    //根据传入的帖子id获取帖子所有评论的接口数据\n    this.getTopReplyByPostId = function (inData) {\n      return ApiService.POST('/mobile/pmall/findTopReplyByPostId_200', {\n        data: {\n          page: inData.page || 1,\n          rows: inData.rows || 10,\n          postId: inData.postId || null\n        }\n      });\n    };\n    //根据帖子指定评论的id的全部评论回复的接口数据\n    this.getReplyByTopReplyId = function (inData) {\n      return ApiService.POST('/mobile/pmall/findReplyByTopReplyId_200', {\n        data: {\n          page: inData.page || 1,\n          rows: inData.rows || 10,\n          topReplyId: inData.topReplyId || null\n        }\n      });\n    };\n\n    //根据帖子id获取帖子的点赞数量的接口数据\n    this.getSupportCount = function (inData) {\n      return ApiService.POST('/mobile/pmall/getPostUpvotedCount_200', {\n        data: {\n          page: inData.page || 1,\n          rows: inData.rows || 10,\n          postId: inData.postId || null\n        }\n      });\n    };\n    //根据帖子id获取当前会员是否收藏过当前帖子的接口数据（注：需要token）\n    this.getFavoriteState = function (inData) {\n      return ApiService.POST('/mobile/isMemberFavoritePost_200', {\n        data: {\n          page: inData.page || 1,\n          rows: inData.rows || 10,\n          postId: inData.postId || null\n        }\n      });\n    };\n\n    this.findManagedPostByPage = function (inData) {\n      var memberRole = inData.memberRole;\n      switch (memberRole) {\n        case 'MASTER':\n          return this.findMasterManagedPostByPage_200(inData);\n          break;\n        case 'SUPER_MASTER':\n          return this.findAdminManagedPostByPage_200(inData);\n          break;\n        default:\n          return;\n      }\n\n    };\n\n    //大掌门的全部帖子的接口数据，查询条件有1.处理类型(execute)，2话题类型(topic)，3藏品类型(productType),该url需要配置权限（注：需要token）\n    this.findAdminManagedPostByPage_200 = function (inData) {\n      return ApiService.POST('/mobile/findAdminManagedPostByPage_200', {\n        data: {\n          page: inData.page || 1,\n          rows: inData.rows || 10,\n          topic: inData.topic || null,\n          productType: inData.productType || null,\n          execute: inData.execute || null\n        }\n      });\n    };\n    //根据掌门类型获取帖子，查询条件有1.处理类型，2话题类型,该url需要配置权限（注：需要token）\n    this.findMasterManagedPostByPage_200 = function (inData) {\n      return ApiService.POST('/mobile/findMasterManagedPostByPage_200', {\n        data: {\n          page: inData.page || 1,\n          rows: inData.rows || 10,\n          topic: inData.topic || null,\n          productType: inData.productType || null,\n          execute: inData.execute || null\n        }\n      });\n    };\n    //根会员-发表话题评论,判断是否是掌门人（注：需要token）\n    /* postId：帖子ID\n     //content：内容\n     //clientType:客户端类型(苹果：IOS，安卓：ANDROID，H5：H5)*/\n    this.addReplyForPost_200 = function (inData) {\n      return ApiService.POST('/mobile/addReplyForPost_200', {\n        data: {\n          postId: inData.postId || null,\n          content: inData.content || null,\n          clientType: 'H5'\n        }\n      });\n    };\n    //会员-回复其他人的评论,判断是否是掌门人（注：需要token）\n    /*parentReplyId：回复ID\n     content：内容\n     clientType:客户端类型(苹果：IOS，安卓：ANDROID，H5：H5)*/\n    this.addReplyForReply_200 = function (inData) {\n      return ApiService.POST('/mobile/addReplyForReply_200', {\n        data: {\n          parentReplyId: inData.parentReplyId || null,\n          content: inData.content || null,\n          clientType: 'H5'\n        }\n      });\n    };\n    //会员-赞帖子（注：需要token）postId：帖子ID\n    this.addPostUpvote_200 = function (inData) {\n      return ApiService.POST('/mobile/addPostUpvote_200', {\n        data: {\n          postId: inData.postId || null\n        }\n      });\n    };\n    //会员-赞回复（注：需要token）replyId：评论ID\n    this.addReplyUpvote_200 = function (inData) {\n      return ApiService.POST('/mobile/addReplyUpvote_200', {\n        data: {\n          replyId: inData.replyId || null\n        }\n      });\n    };\n\n\n    //获取话题分类，参数type:POST_TOPIC_TYPE\n    this.getParamListByType_112 = function (inData) {\n      return ApiService.POST('/mobile/pmall/getParamListByType_112', {\n        data: {\n          type: inData.type || 'POST_TOPIC_TYPE'\n        }\n      });\n    };\n    //添加掌门对话题的鉴定结果数据信息\n    /*id:帖子ID\n     productType:藏品分类\n     identifyResult:鉴定结果\n     highlight:是否精华\n     content:内容\n     clientType:客户端类型(苹果：IOS，安卓：ANDROID，H5：H5*/\n\n    this.judgePostByMaster = function (inData) {\n      var memberRole = inData.memberRole;\n      switch (memberRole) {\n        case 'MASTER':\n          return this.tastePostByMaster_200(inData);\n          break;\n        case 'SUPER_MASTER':\n          return this.tastePostByAdmin_200(inData);\n          break;\n      }\n    };\n\n    this.tastePostByMaster_200 = function (inData) {\n      return ApiService.POST('/mobile/tastePostByMaster_200', {\n        data: {\n          id: inData.id,\n          productType: inData.productType || null,\n          identifyResult: inData.identifyResult || null,\n          classify: inData.classify || null,\n          replyContent: inData.replyContent || null,\n          clientType: inData.clientType || 'H5'\n        }\n      });\n    };\n\n    this.tastePostByAdmin_200 = function (inData) {\n      return ApiService.POST('/mobile/tastePostByAdmin_200', {\n        data: {\n          id: inData.id,\n          productType: inData.productType || null,\n          identifyResult: inData.identifyResult || null,\n          classify: inData.classify || null,\n          replyContent: inData.replyContent || null,\n          clientType: inData.clientType || 'H5'\n        }\n      });\n    };\n\n\n    //转移藏品分类\n    this.transferPostByMaster_200 = function (inData) {\n      return ApiService.POST('/mobile/transferPostByMaster_200', {\n        data: {\n          id: inData.id || null,\n          productType: inData.productType || null\n        }\n      });\n    };\n    //会员-获取帖子详细信息\n    this.findMyPostById_200 = function (inData) {\n      return ApiService.POST('/mobile/findMyPostById_200', {\n        data: {\n          postId: inData.postId\n        }\n      });\n    };\n    //掌门删除其他人帖子\n    this.deletePostById_200 = function (inData) {\n      return ApiService.POST('/mobile/deletePostById_200', {\n        data: {\n          postId: inData.postId\n        }\n      });\n    };\n    //查询帖子点赞列表\n    this.findPostUpvotedMemberIconByPostId_200 = function (inData) {\n      return ApiService.POST('/mobile/pmall/findPostUpvotedMemberIconByPostId_200', {\n        data: {\n          postId: inData.postId\n        }\n      });\n    };\n    //获取会员权限类型\n    this.getMemberRole_200 = function (inData) {\n      return ApiService.POST('/mobile/getMemberRole_200', {\n        data: {}\n      });\n    };\n    //调用关注与取消关注的方法\n    this.addOrDeleteFocus_112 = function (inData) {\n      return ApiService.POST('/mobile/addOrDeleteFocus_112', {\n        data: {\n          targetMemberId: inData.targetMemberId || null,\n          focus: inData.focus || null\n        }\n      });\n    };\n    //查询帖子的品评结果\n    this.findTastePostById_200 = function (inData) {\n      return ApiService.POST('/mobile/findTastePostById_200', {\n        data: {\n          postId: inData.postId || null\n        }\n      });\n    };\n\n    //查询帖子详情\n    this.findPostById_200 = function (inData) {\n      return ApiService.POST('/mobile/pmall/findPostById_200', {\n        data: {\n          postId: inData.postId || null\n        }\n      });\n    };\n\n\n    this.toggleFollow = function (inItem) {\n      var hasFollow = inItem.focus;\n      var msg = !hasFollow ? '关注成功~' : '取消关注~';\n      ApiService.POST('/mobile/addOrDeleteFocus_112', {\n        data: {\n          targetMemberId: inItem.memberId,\n          focus: !hasFollow\n        }\n      }).success(function (inResp) {\n        if (ApiService.isSuccess(inResp)) {\n          inItem.focus = !hasFollow;\n          toastr.info(msg);\n        }\n      });\n    };\n\n    this.addFavorite = function (inItem) {\n      ApiService.POST('/mobile/addPostFavorite_200', {\n        data: {\n          postId: inItem.id || null\n        }\n      }).success(function (inResp) {\n        if (ApiService.isSuccess(inResp)) {\n          toastr.info('收藏成功~');\n          inItem.favorite = true;\n        }\n      });\n    };\n\n    this.removeFavorite = function (inItem) {\n      ApiService.POST('/mobile/deletePostFavorite_200', {\n        data: {\n          postId: inItem.id || null\n        }\n      }).success(function (inResp) {\n        if (ApiService.isSuccess(inResp)) {\n          toastr.info('取消收藏~');\n          inItem.favorite = false;\n        }\n      });\n    };\n\n    this.addUpvoted = function (inItem) {\n      ApiService.POST('/mobile/addPostUpvote_200', {\n        data: {\n          postId: inItem.id || null\n        }\n      }).success(function (inResp) {\n        if (ApiService.isSuccess(inResp)) {\n          toastr.info('成功点赞~');\n          inItem.upvoted = true;\n          inItem.upvoteCount = parseInt(inItem.upvoteCount) + 1;\n        }\n      });\n    };\n\n    this.removeUpvoted = function (inItem) {\n      ApiService.POST('/mobile/deletePostUpvote_200', {\n        data: {\n          postId: inItem.id || null\n        }\n      }).success(function (inResp) {\n        if (ApiService.isSuccess(inResp)) {\n          toastr.info('取消点赞~');\n          inItem.upvoted = false;\n          inItem.upvoteCount = parseInt(inItem.upvoteCount) - 1;\n        }\n      });\n    };\n\n    this.addReplyUpvoted = function (inItem) {\n      ApiService.POST('/mobile/addReplyUpvote_200', {\n        data: {\n          replyId: inItem.id || null\n        }\n      }).success(function (inResp) {\n        if (ApiService.isSuccess(inResp)) {\n          inItem.upvoted = true;\n          inItem.upvoteCount = parseInt(inItem.upvoteCount) + 1;\n          toastr.info('成功点赞~');\n        }\n      });\n    };\n\n    this.removeReplyUpvoted = function (inItem) {\n      ApiService.POST('/mobile/deleteReplyUpvote_200', {\n        data: {\n          replyId: inItem.id || null\n        }\n      }).success(function (inResp) {\n        if (ApiService.isSuccess(inResp)) {\n          inItem.upvoted = false;\n          inItem.upvoteCount = parseInt(inItem.upvoteCount) - 1;\n          toastr.info('取消点赞~');\n        }\n      });\n    };\n\n    this.toggleFavorite = function (inItem) {\n      __toggle.call(this, inItem, 'favorite');\n    };\n\n    this.toggleSupport = function (inItem) {\n      __toggle.call(this, inItem, 'upvoted');\n    };\n    this.toggleReplySupport = function (inItem) {\n      if (inItem.upvoted) {\n        this.removeReplyUpvoted(inItem);\n      } else {\n        this.addReplyUpvoted(inItem);\n      }\n    };\n\n    this.toTopicDetail = function (inItem) {\n      $state.go('topic-detail', {\n        postId: inItem.id\n      })\n    };\n\n    this.share = function (inItem) {\n      BridgeService.share({\n        modelId: inItem.id,\n        title: inItem.linkTitle,\n        type: inItem.topicType,\n        image: inItem.linkFileName,\n        imageURL: IMGSERVER + inItem.linkFileName,\n        description: inItem.content\n      })\n    };\n\n    this.toMemberIndex = function (inData) {\n      BridgeService.toMemberIndex({\n        memberID: inData.memberID\n      })\n    };\n\n    function __toggle(inItem, inName) {\n      var hasItem = inItem[inName];\n      var capitalization = inName.charAt(0).toUpperCase() + inName.slice(1);\n      var method = hasItem ? 'remove' : 'add';\n      return this[method + capitalization](inItem);\n    }\n\n  }\n})();\n\n(function () {\n  'use strict';\n\n\n  angular\n    .module('dacangRemix')\n    .filter('pad', pad)\n    .filter('toJudgeImg', toJudgeImg)\n    .filter('judgeItemToIndex', judgeItemToIndex)\n    .filter('topicItemToIndex', topicItemToIndex)\n    .filter('toLevelImage', toLevelImage)\n    .filter('toUnixTimestamp', toUnixTimestamp)\n    .filter('toTimestamp', toTimestamp);\n\n\n  var topicTypeMap = {\n    P_T_T_01: '求鉴定',\n    P_T_T_02: '晒宝贝',\n    P_T_T_03: '分享',\n    P_T_T_04: '推广'\n  };\n\n\n  function toTimestamp() {\n    return function (inValue) {\n      //todo:http://www.it165.net/pro/html/201404/11947.html\n      var normalizeDateStr = String(inValue).replace(/-/g, '/');\n      return (new Date(normalizeDateStr)).getTime() || Date.now();\n    };\n  }\n\n  function toUnixTimestamp(moment) {\n    return function () {\n      return moment().unix();\n    }\n  }\n\n  function toLevelImage(padFilter) {\n    return function (inValue) {\n      var val = inValue * 1;\n      val = val > 12 ? 12 : val;\n      return 'user-level-' + padFilter(val, 2) + '.png';\n    };\n  }\n\n  function pad() {\n    return function (n, len) {\n      var num = parseInt(n, 10);\n      len = parseInt(len, 10);\n      if (isNaN(num) || isNaN(len)) {\n        return n;\n      }\n      num = '' + num;\n      while (num.length < len) {\n        num = '0' + num;\n      }\n      return num;\n    };\n  }\n\n  function toJudgeImg(JudgeService) {\n    return function (inValue) {\n      var result;\n      JudgeService.judgeItems.forEach(function (item, index) {\n        if (item.id == inValue) {\n          result = item.img;\n        }\n      });\n      return result;\n    };\n  }\n\n\n  function judgeItemToIndex(JudgeService) {\n    return __itemToIndex(JudgeService, 'judgeItems');\n  }\n\n\n  function topicItemToIndex(JudgeService) {\n    return __itemToIndex(JudgeService, 'topicItems');\n  }\n\n\n  function __itemToIndex(JudgeService, inItemsName) {\n    return function (inValue) {\n      var result = -1;\n      JudgeService[inItemsName].forEach(function (item, index) {\n        if (item.id == inValue) {\n          result = index;\n        }\n      });\n      return result;\n    };\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .service('ApiService', ApiService);\n\n  var extend = angular.extend;\n\n  /** @ngInject */\n  function ApiService($http, $rootScope, APISERVER, utils) {\n    //base methods:\n    this.REQUEST = function (inMethod, inName, inOptions) {\n      var hash = utils.getLocationSearch();\n\n      return $http(\n        extend({\n          headers: _normalizeParams(extend({\n            'Authorization': _tokenToAuthorization($rootScope.dcToken || hash.dctoken),\n            'clientType': 'H5',\n            'Content-Type': 'application/x-www-form-urlencoded'\n          }, inOptions.headers || {})),\n          transformRequest: function (inData) {\n            var str = [], key, value;\n            for (key in inData) {\n              value = inData[key];\n              str.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(inData[key]));\n            }\n            return str.join(\"&\");\n          },\n          method: inMethod,\n          url: _getUrl(inName)\n        }, _normalizeParams(inOptions))\n      );\n    };\n\n\n    this.GET = function (inName, inOptions) {\n      var params = inOptions.data || inOptions.params || {};\n      return this.REQUEST(\n        'GET', inName,\n        extend(inOptions, {\n          params: params\n        })\n      );\n    };\n\n    this.POST = function (inName, inOptions) {\n      return this.REQUEST('POST', inName, inOptions);\n    };\n\n    this.isSuccess = function (inResp) {\n      return inResp.result !== 'FAILD';\n    };\n\n\n    function _getUrl(inName) {\n      return APISERVER + inName;\n    }\n\n    //检测是否为空对象\n    function _normalizeParams(inData) {\n      angular.forEach(inData.data, function (item, index) {\n        if (item == null) {\n          delete inData.data[index];\n        }\n      });\n      return inData;\n    }\n\n    function _tokenToAuthorization(inToken) {\n      return inToken ? 'Bearer ' + inToken : null;\n    }\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .controller('TopicDetailController', TopicDetailController);\n\n  /** @ngInject */\n  function TopicDetailController($timeout, $scope, $rootScope, $sce, $stateParams, $state, utils, AppService, BridgeService, localStorageService) {\n    var vm = this, pageIndex, itemsPerPage;\n    var postId = $stateParams.postId;\n\n\n    window.vm = vm;\n\n\n    vm.doRefresh = init;\n    vm.loadMore = load;\n    vm.detail = {\n      images: null,\n      data: null,\n      adUrl: null\n    };\n    vm.fbFocus = false;\n    vm.appService = AppService;\n    vm.replyContent = null;\n    vm.replyPlaceholder = '说点什么呢';\n\n    vm.save = save;\n    vm.cgReply = cgReply;\n    vm.replyItem = null;\n    vm.utils = utils;\n    vm.userItem = localStorageService.get('userItem');\n\n\n    vm.back = back;\n\n    init();\n\n    function init() {\n      pageIndex = 1;\n      itemsPerPage = 3;\n      //存储帖子数据\n      vm.items = [];\n      vm.replyContent = null;\n      vm.replyPlaceholder = '说点什么呢';\n      vm.currentReplyItem = null;\n      initThreadDetail();\n      findPostUpvotedMemberIconByPostId_200();\n      load();\n    }\n\n    function load() {\n      AppService.getTopReplyByPostId({\n        page: pageIndex,\n        rows: itemsPerPage,\n        postId: postId\n      }).success(function (inResp) {\n        var result = inResp.rows;\n        vm.hasMoreData = result.length === itemsPerPage;\n        vm.items = vm.items.concat(result);\n      }).finally(function () {\n        $scope.$broadcast('scroll.refreshComplete');\n        $scope.$broadcast('scroll.infiniteScrollComplete');\n      });\n      pageIndex++;\n    }\n\n\n    function findPostUpvotedMemberIconByPostId_200() {\n      AppService.findPostUpvotedMemberIconByPostId_200({\n        postId: postId\n      }).success(function (inResp) {\n        vm.upvoted = inResp;\n        console.log(inResp);\n      });\n    }\n\n\n    function initThreadDetail() {\n      AppService.findPostById_200({\n        postId: postId\n      }).success(function (inResp) {\n        vm.detail = inResp;\n        vm.detail.images = __toArray(inResp.attachments);\n        vm.detail.adUrl = $sce.trustAsResourceUrl(inResp.content);\n      });\n    }\n\n    function save() {\n      if (vm.currentReplyItem) {\n        __addReplyForReply_200();\n      } else {\n        __addReplyForPost_200();\n      }\n    }\n\n\n    function cgReply(inItem) {\n      vm.currentReplyItem = inItem;\n      vm.replyPlaceholder = '回复' + inItem.memberNickname + ':';\n      vm.fbFocus = true;\n\n    }\n\n    function back() {\n      var topicFromState = $rootScope.topicFromState;\n      if (topicFromState) {\n        $state.go(topicFromState.name || 'main.recommend');\n      } else {\n        if (BridgeService.back) {\n          BridgeService.back();\n        }\n      }\n    }\n\n    function __addReplyForReply_200() {\n      AppService.addReplyForReply_200({\n        parentReplyId: vm.currentReplyItem.id,\n        content: vm.replyContent\n      }).success(function (inResp) {\n        init();\n      });\n    }\n\n    function __addReplyForPost_200() {\n      AppService.addReplyForPost_200({\n        postId: postId,\n        content: vm.replyContent\n      }).success(function (inResp) {\n        init();\n      });\n    }\n\n    function __toArray(inString) {\n      return (inString || '').split(',');\n    }\n\n\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .controller('MasterDetailController', MasterDetailController);\n\n  /** @ngInject */\n  function MasterDetailController($timeout, toastr, localStorageService) {\n    var vm = this;\n    vm.item = null;\n    init();\n    function init() {\n      vm.item = localStorageService.get('master-detail');\n    }\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($rootScope, $state, $ionicSlideBoxDelegate, localStorageService, RouteService) {\n    var vm = this;\n    vm.activeSlideIndex = $rootScope.topNavActiveIndex;\n    vm.slideChange = slideChange;\n\n\n    init();\n\n\n    function init() {\n      // initDcToken();\n    }\n\n    function slideChange() {\n      var currentIndex = $ionicSlideBoxDelegate.currentIndex();\n      $state.go(RouteService.topNavList[currentIndex]);\n    }\n\n\n\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .controller('MasterController', MasterController);\n\n  /** @ngInject */\n  function MasterController($rootScope, $scope, $state, $ionicSlideBoxDelegate, RouteService, BridgeService, AppService) {\n    var vm = this, pageIndex, itemsPerPage;\n\n    vm.activeSlideIndex = $rootScope.masterNavActiveIndex;\n    vm.ddVisible = false;\n    vm.ddItemClick = ddItemClick;\n    vm.dataAll = null;\n    vm.dataUnhandled = null;\n    vm.dataHanlded = null;\n    vm.memberRole = 'NORMAL';\n    vm.ddItems = [];\n\n    //存储藏品类型\n    vm.collectionChildItems = [];\n    vm.collectionChildActiveIndex = undefined;\n    vm.topicChildItems = [];\n    vm.topicChildActiveIndex = undefined;\n\n    vm.slideChange = slideChange;\n    vm.back = back;\n\n    //导航监听\n\n\n    initMemberRole();\n    initWatcher();\n\n    //获取藏品类型\n    function getParamListByType() {\n      AppService.getParamListByType({\n        type: 'PRD_TYPE'\n      }).success(function (inResp) {\n        //重组数据，符合navActive格式\n        vm.collectionChildItems = processNavItems(inResp);\n        //藏品选中索引\n        vm.collectionChildActiveIndex = 0;\n      });\n    }\n\n    //获取话题类型\n    function getParamListByType_112() {\n      AppService.getParamListByType_112({\n        type: 'POST_TOPIC_TYPE'\n      }).success(function (inResp) {\n        //重组数据，符合navActive格式\n        vm.topicChildItems = processNavItems(inResp);\n        //话题选中索引\n        vm.topicChildActiveIndex = 0;\n      });\n    }\n\n    //重组数据，符合navActive格式\n    function processNavItems(inItems) {\n      (inItems || []).forEach(function (item) {\n        item.active = item.defaultOne;\n      });\n      return inItems;\n    }\n\n\n    function ddItemClick() {\n      return function (inItem) {\n        vm.ddVisible = false;\n        $rootScope.topicCurrentItem = inItem;\n        $rootScope.$emit('filterChange', {\n          topicCurrentItem: inItem\n        });\n      };\n    }\n\n    function slideChange() {\n      var currentIndex = $ionicSlideBoxDelegate.currentIndex();\n      $state.go(RouteService.masterNavList[currentIndex]);\n    }\n\n\n    //导航监听\n    function initWatcher() {\n      $scope.$watchGroup([\n        function () {\n          return vm.collectionChildActiveIndex;\n        },\n        function () {\n          return vm.topicChildActiveIndex;\n        }\n      ], function (inIndexArray) {\n        if (angular.isDefined(inIndexArray[0]) && angular.isDefined(inIndexArray[1])) {\n          $rootScope.collectionCurrentItem = vm.collectionChildItems[inIndexArray[0]];\n          $rootScope.topicCurrentItem = vm.topicChildItems[inIndexArray[1]];\n\n          $rootScope.$emit('filterChange', {\n            collectionCurrentItem: vm.collectionChildItems[inIndexArray[0]],\n            topicCurrentItem: vm.topicChildItems[inIndexArray[1]]\n          });\n        }\n      });\n    }\n\n    function initMemberRole() {\n      AppService.getMemberRole_200().success(function (inResp) {\n        vm.memberRole = inResp.result;\n        getParamListByType_112();\n        if (vm.memberRole === 'SUPER_MASTER') {\n          getParamListByType();\n        }\n      });\n    }\n\n    function back() {\n      if (BridgeService.back) {\n        BridgeService.back();\n      }\n    }\n\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .controller('JudgeController', JudgeController);\n\n  /** @ngInject */\n  function JudgeController($scope, $stateParams, toastr, AppService, $state, JudgeService, BridgeService, judgeItemToIndexFilter, topicItemToIndexFilter) {\n    var vm = this;\n\n\n    window.vm = vm;\n    vm.topicActiveIndex = -1;\n    vm.judgeActiveIndex = -1;\n    vm.judgeService = JudgeService;\n    vm.collectionCateItems = [];\n    vm.collectionModel = '';\n    vm.initProductType = '';\n\n\n    vm.judgeData = null;\n\n    //NORMAL,MASTER,SUPER_MASTER\n    vm.memberRole = 'NORMAL';\n    vm.judgeStatus = 'NORMAL';\n    vm.transferChangeStatus = false;\n    vm.judgeContent = '';\n    vm.save = save;\n    vm.judgeItemClick = judgeItemClick;\n    vm.cateItemClick = cateItemClick;\n    vm.judgeTransferChange = judgeTransferChange;\n    vm.back = back;\n\n    init();\n\n    function init() {\n      getMemberRole();\n      getCollectionCateList();\n      addCollectionItemsWatcher();\n      addIdentifyCountWatcher();\n      addMemberRoleWatcher();\n    }\n\n    function judgeItemClick(inItem, inEvent) {\n      switch (vm.judgeStatus) {\n        case 'NORMAL':\n          __judgeNormalAction(inItem, inEvent);\n          break;\n        case 'DISABLED':\n          __judgeDisabledAction(inItem, inEvent);\n          break;\n      }\n    }\n\n    function judgeTransferChange(inItem) {\n      vm.transferChangeStatus = inItem !== vm.initProductType;\n    }\n\n    function getCollectionCateList() {\n      AppService.getParamListByType({\n        type: 'PRD_TYPE'\n      }).success(function (inResp) {\n        vm.collectionCateItems = inResp;\n      });\n    }\n\n    function initJudgeData() {\n      AppService.findTastePostById_200({\n        postId: $stateParams.postId\n      }).success(function (inResp) {\n        vm.judgeData = inResp;\n        vm.initProductType = inResp.productType;\n      });\n    }\n\n    function addCollectionItemsWatcher() {\n      $scope.$watch(function () {\n        return vm.collectionCateItems;\n      }, function (inValue) {\n        if (inValue.length > 0) {\n          initJudgeData();\n        }\n      });\n    }\n\n    function addIdentifyCountWatcher() {\n      $scope.$watch(function () {\n        return vm.judgeData;\n      }, function (inValue) {\n        if (inValue) {\n          var identifyCount = inValue.identifyCount;\n\n          //初始化judgeResult\n          vm.judgeActiveIndex = judgeItemToIndexFilter(inValue.identifyResult);\n\n          //init topic category:\n          vm.topicActiveIndex = topicItemToIndexFilter(inValue.classify);\n\n\n          __initJudgeContent(inValue.replyVoList);\n\n          switch (identifyCount) {\n            case \"0\":\n            case \"1\":\n              vm.judgeStatus = 'NORMAL';\n              break;\n            case \"2\":\n              vm.judgeStatus = 'DISABLED';\n              break;\n          }\n        }\n      }, true);\n    }\n\n    function addMemberRoleWatcher() {\n      $scope.$watch(function () {\n        return vm.memberRole;\n      }, function (inValue) {\n        //console.log(inValue);\n        switch (inValue) {\n          case 'MASTER':\n            vm.judgeService.topicItems.pop();\n            break;\n        }\n      });\n    }\n\n\n    function save() {\n      __saveJudgeData();\n    }\n\n    function cateItemClick(inItem, inEvent) {\n      vm.topicCurrentItem = inItem;\n      inEvent.stopPropagation();\n      vm.judgeService.topicItems.forEach(function (item, index) {\n        if (angular.equals(item, inItem)) {\n          item.active = !item.active;\n          vm.topicActiveIndex = item.active ? index : -1;\n        } else {\n          item.active = false;\n        }\n      });\n    }\n\n    function getMemberRole() {\n      AppService.getMemberRole_200().success(function (inResp) {\n        vm.memberRole = inResp.result;\n      });\n    }\n\n    function back() {\n      $state.go('master.all');\n    }\n\n    function __saveJudgeData() {\n      if ((vm.judgeActiveIndex === -1 && vm.memberRole !== 'SUPER_MASTER') && !vm.transferChangeStatus) {\n        toastr.info('请选择一种鉴定结果~');\n        return false;\n      }\n\n      AppService.judgePostByMaster({\n        id: vm.judgeData.id,\n        memberRole: vm.memberRole,\n        productType: vm.judgeData.productType,\n        identifyResult: __getJudgeIndex('judge'), //?\n        classify: __getJudgeIndex('topic'), //?\n        replyContent: vm.judgeContent,\n        clientType: 'H5'\n      }).success(function (inResp) {\n        toastr.info('成功啦~');\n        $state.go('master.all');\n      });\n    }\n\n    function __judgeNormalAction(inItem, inEvent) {\n      vm.judgeCurrentItem = inItem;\n      inEvent.stopPropagation();\n      vm.judgeService.judgeItems.forEach(function (item, index) {\n        if (angular.equals(item, inItem)) {\n          item.active = !item.active;\n          vm.judgeActiveIndex = item.active ? index : -1;\n        } else {\n          item.active = false;\n        }\n      });\n    }\n\n    function __judgeDisabledAction(inItem, inEvent) {\n      inEvent.stopPropagation();\n    }\n\n    function __initJudgeContent(inData) {\n      if (inData.length > 0) {\n        vm.judgeContent = inData[0].content;\n      }\n    }\n\n    function __getJudgeIndex(inType) {\n      var items = vm.judgeService[inType + 'Items'];\n      if (vm[inType + 'ActiveIndex'] > -1) {\n        return items[vm[inType + 'ActiveIndex']].id;\n      }\n    }\n\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log, $rootScope, $state, $timeout, $ionicLoading, $ionicBackdrop, RouteService, BridgeService, localStorageService, nxIsLoading, IMGSERVER) {\n\n    var topNavList = RouteService.topNavList;\n    var masterNavList = RouteService.masterNavList;\n\n    $rootScope.topNavActiveIndex = 0;\n    $rootScope.IMG = IMGSERVER;\n    $rootScope.masterNavActiveIndex = 0;\n    $rootScope.topNavVisible = true;\n    $rootScope.topicFromState = null;\n    $rootScope.masterFromState = null;\n    $rootScope.setFullScreen = setFullScreen;\n\n\n    //Auto calculate pendingRequests:\n    $rootScope.$watch(nxIsLoading.isLoading, function (inValue) {\n      if (inValue) {\n        return $ionicLoading.show({\n          template: '<ion-spinner icon=\"ios\"></ion-spinner>',\n          noBackdrop: true\n        });\n      } else {\n        return $ionicLoading.hide();\n      }\n    });\n\n\n    $rootScope.$on('$stateChangeStart', function (evt, toState, toParams, fromState, fromParams) {\n      var stateName = toState.name;\n      var index = topNavList.indexOf(stateName);\n      var masterIndex = masterNavList.indexOf(stateName);\n\n      setStandardScreen();\n      checkLatestToken();\n\n      switch (stateName) {\n        case 'main.recommend':\n        case 'main.follow':\n        case 'main.master-say':\n        case 'main.sticky':\n          $rootScope.topNavActiveIndex = index;\n          break;\n\n        case 'master':\n        case 'master.all':\n        case 'master.unhandled':\n        case 'master.handled':\n          setFullScreen();\n          $rootScope.masterFromState = fromState;\n          $rootScope.masterNavActiveIndex = masterIndex;\n          break;\n        case 'master-detail':\n        case 'topic-detail':\n          $rootScope.topicFromState = fromState;\n          setFullScreen();\n          break;\n      }\n    });\n\n\n    //TODO:to be optimze:----start\n    document.addEventListener('DOMContentLoaded', function () {\n\n      var loadingContainer = document.querySelector('.loading-container');\n      var backdrop = document.querySelector('.backdrop');\n      $rootScope.$on('backdrop.shown', function () {\n        $ionicBackdrop._element.off('selectstart touchmove');\n        $ionicBackdrop._element.on('selectstart touchmove', __preventALl);\n      });\n\n      loadingContainer.addEventListener('touchmove', __preventALl);\n      backdrop.addEventListener('touchmove', __preventALl);\n      loadingContainer.addEventListener('selectstart', __preventALl);\n      backdrop.addEventListener('selectstart', __preventALl);\n    });\n\n\n    function __preventALl(inEvent) {\n      inEvent.preventDefault();\n      inEvent.stopPropagation();\n      return false;\n    }\n\n    //TODO:to be optimze:----end\n\n\n    //todo:buggy code:\n    function setFullScreen() {\n      $timeout(function () {\n        var el = document.querySelector('.dacang-remix');\n        angular.element(el).addClass('full-height');\n        //alert(BridgeService.toggleTabBar.toString());\n        if (BridgeService.toggleTabBar) {\n          BridgeService.toggleTabBar({\n            hidden: true\n          });\n        }\n      })\n    }\n\n    function setStandardScreen() {\n      $timeout(function () {\n        var el = document.querySelector('.dacang-remix');\n        angular.element(el).removeClass('full-height');\n        // alert(BridgeService.toggleTabBar.toString());\n        if (BridgeService.toggleTabBar) {\n          BridgeService.toggleTabBar({\n            hidden: false\n          });\n        }\n      })\n    }\n\n\n    function checkLatestToken() {\n      console.log('check latest token!!!');\n      if (BridgeService.getToken) {\n        BridgeService.getToken(function (token) {\n          $rootScope.dcToken = token;\n        });\n      }\n    }\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('main', {\n        url: '/main',\n        abstract: true,\n        templateUrl: 'app/main/index.html',\n        controller: 'MainController',\n        controllerAs: 'vm'\n      })\n      .state('main.recommend', {\n        url: '/recommend',\n        views: {\n          'recommend': {\n            templateUrl: 'app/main/recommend/index.html',\n            controller: 'MainRecommendController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('main.follow', {\n        url: '/follow',\n        views: {\n          'follow': {\n            templateUrl: 'app/main/follow/index.html',\n            controller: 'MainFollowController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('main.master-say', {\n        url: '/master-say',\n        views: {\n          'master-say': {\n            templateUrl: 'app/main/master-say/index.html',\n            controller: 'MainMasterSayController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('main.sticky', {\n        url: '/sticky',\n        views: {\n          'sticky': {\n            templateUrl: 'app/main/sticky/index.html',\n            controller: 'MainStickyController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('master-detail', {\n        url: '/master-detail',\n        templateUrl: 'app/master-detail/index.html',\n        controller: 'MasterDetailController',\n        controllerAs: 'vm'\n      })\n      .state('master', {\n        url: '/master',\n        abstract: true,\n        templateUrl: 'app/master/index.html',\n        controller: 'MasterController',\n        controllerAs: 'vm'\n      })\n      .state('master.all', {\n        url: '/all',\n        views: {\n          'all': {\n            templateUrl: 'app/master/all/index.html',\n            controller: 'MasterAllController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('master.handled', {\n        url: '/handled',\n        views: {\n          'handled': {\n            templateUrl: 'app/master/handled/index.html',\n            controller: 'MasterHandledController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('master.unhandled', {\n        url: '/unhandled',\n        views: {\n          'unhandled': {\n            templateUrl: 'app/master/unhandled/index.html',\n            controller: 'MasterUnhandledController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('topic-detail', {\n        url: '/topic-detail/:postId',\n        templateUrl: 'app/topic-detail/index.html',\n        controller: 'TopicDetailController',\n        controllerAs: 'vm'\n      })\n      .state('judge', {\n        url: '/judge/:postId',\n        templateUrl: 'app/judge/index.html',\n        controller: 'JudgeController',\n        controllerAs: 'vm'\n      });\n\n    $urlRouterProvider.otherwise('/main/recommend');\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .constant('malarkey', malarkey)\n    .constant('moment', moment)\n    //.constant('HTTP_TIMEOUT', 30 * 1e3)\n    // .constant('APISERVER', 'http://www.api.com/v1');\n\n    //test\n    .constant('HTTP_TIMEOUT', 2 * 1e3)\n    .constant('IMGSERVER', 'http://7xo9tp.com2.z0.glb.qiniucdn.com/')\n    // .constant('APISERVER', 'http://testapp.dcpai.cn/app/interface');\n    .constant('APISERVER', 'http://192.168.10.30/app/interface');\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dacangRemix')\n    .config(config);\n\n  /** @ngInject */\n  function config($httpProvider, $logProvider, $ionicConfigProvider, toastrConfig, localStorageServiceProvider, moment, HTTP_TIMEOUT) {\n\n\n    //todo:?\n    moment.lang('zh-cn', {\n      relativeTime: {\n        future: '%s内',\n        past: '%s前',\n        s: '几秒',\n        m: '1 分钟',\n        mm: '%d 分钟',\n        h: '1 小时',\n        hh: '%d 小时',\n        d: '1 天',\n        dd: '%d 天',\n        M: '1 个月',\n        MM: '%d 个月',\n        y: '1 年',\n        yy: '%d 年'\n      }\n    });\n\n    $httpProvider.defaults.timeout = HTTP_TIMEOUT;\n    $httpProvider.interceptors.push('authorizationInterceptor');\n\n    $ionicConfigProvider.views.transition('none');\n\n\n    $ionicConfigProvider.backButton.text('').icon('ion-chevron-left');\n    $ionicConfigProvider.backButton.previousTitleText(false);\n\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 2000;\n    toastrConfig.positionClass = 'toast-center';\n    toastrConfig.preventDuplicates = false;\n    toastrConfig.preventOpenDuplicates = true;\n    toastrConfig.progressBar = false;\n\n    //localstorage config:\n    localStorageServiceProvider\n      .setPrefix('iwa')\n      .setStorageType('localStorage')\n      .setNotify(true, true);\n\n    //localStorageService.set('key','value')/localStorageService.get('key')\n\n  }\n\n})();\n\nangular.module(\"dacangRemix\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/judge/index.html\",\"<ion-view class=judge-view><ion-nav-bar class=bar-assertive><ion-nav-title>品评</ion-nav-title><ion-nav-back-button class=\\\"button-clear force-shown\\\" ng-click=vm.back()><i class=\\\"icon ion-ios-arrow-left\\\"></i></ion-nav-back-button></ion-nav-bar><ion-content class=has-header><div class=blank-10></div><div class=list><div class=\\\"item item-icon-left item-select\\\"><i class=\\\"icon ion-grid\\\"></i> 藏品分类<select ng-model=vm.judgeData.productType ng-change=vm.judgeTransferChange(vm.judgeData.productType) ng-disabled=\\\"vm.judgeData.transferCount>0 && vm.memberRole !==\\'SUPER_MASTER\\'\\\"><option value={{item.id}} ng-repeat=\\\"item in vm.collectionCateItems\\\">{{item.text}}</option></select></div></div><div ng-if=!vm.transferChangeStatus><div class=blank-10></div><!--judge-result Start--><div class=\\\"bg-f padding judge-result\\\"><!--<div class=\\\"blank-20\\\"></div>--><h4 class=\\\"text-center f18 dc-title\\\">请选择鉴定结果</h4><!--<div class=\\\"c-9 item item-divider\\\">请选择鉴定结果</div>--><div class=blank-10></div><!--judgeItems start--><nx-active-items items=vm.judgeService.judgeItems active-index=vm.judgeActiveIndex css-class=\\\"row row-no-padding dc-list\\\"><nx-active-item ng-repeat=\\\"item in vm.judgeService.judgeItems\\\" class=col><!--vm.items.identifyCount鉴定次数--><judge-item-toggle active=item.active is-disabled=\\\"{{vm.judgeStatus == \\'DISABLED\\' && vm.memberRole !==\\'SUPER_MASTER\\'}}\\\" ng-click=vm.judgeItemClick(item,$event)>{{item.text}}</judge-item-toggle></nx-active-item></nx-active-items><!--judgeItems end--><div class=blank-10></div></div><!--judge-result End--><!--category start--><div class=list><div class=\\\"c-9 item item-divider\\\">话题分类</div><nx-active-items items=vm.judgeService.topicItems active-index=vm.topicActiveIndex><nx-active-item ng-repeat=\\\"item in vm.judgeService.topicItems\\\"><div class=\\\"item item-toggle\\\">{{item.text}} <span class=\\\"toggle toggle-balenced\\\" ng-click=vm.cateItemClick(item,$event);><input type=checkbox ng-model=item.active><div class=track><div class=handle></div></div></span></div></nx-active-item></nx-active-items></div><!--category end--><!--setSticky Start--><div class=list><div class=blank-20></div><div class=\\\"item item-input\\\"><!--vm.items.tasteCount品评次数--><textarea style=min-height:80px placeholder=说点什么吧 ng-model=vm.judgeContent ng-disabled=\\\"vm.judgeData.tasteCount > 1 && vm.memberRole !==\\'SUPER_MASTER\\'\\\"></textarea></div></div><!--setSticky End--></div><div ng-if=vm.transferChangeStatus><div class=blank-40></div><div class=\\\"f18 c-9 text-center hlh30\\\">温馨提示 ：其他掌门将接手您的工作</div><div class=blank-20></div></div><button class=\\\"button button-full button-assertive\\\" ng-click=vm.save()>确定</button></ion-content></ion-view>\");\n$templateCache.put(\"app/main/index.html\",\"<ion-view><ion-content scroll=false class=main-view><ion-slide-box slide-tabs-scrollable=false show-pager=false auto-play=false does-continue=false nx-ionic-slide-top-nav indicator-ratio=0.5 active-slide=vm.activeSlideIndex on-slide-changed=vm.slideChange()><ion-slide nx-ionic-slide-tab-label=推荐><ion-nav-view name=recommend></ion-nav-view></ion-slide><ion-slide nx-ionic-slide-tab-label=关注><ion-nav-view name=follow></ion-nav-view></ion-slide><ion-slide nx-ionic-slide-tab-label=掌门说><ion-nav-view name=master-say></ion-nav-view></ion-slide><ion-slide nx-ionic-slide-tab-label=精华><ion-nav-view name=sticky></ion-nav-view></ion-slide></ion-slide-box></ion-content></ion-view>\");\n$templateCache.put(\"app/master/index.html\",\"<ion-view><ion-nav-bar class=bar-assertive><ion-nav-back-button side=primary class=\\\"button-clear force-shown\\\" ng-click=vm.back()><i class=\\\"icon ion-ios-arrow-left\\\"></i></ion-nav-back-button><ion-nav-buttons side=right><button class=\\\"button button-small button-clear\\\" ng-if=\\\"(vm.memberRole!=\\'SUPER_MASTER\\')\\\" ng-click=\\\"vm.ddVisible=true;\\\">筛选</button></ion-nav-buttons><ion-nav-title>掌门人</ion-nav-title><nx-rt-dropdown visible={{vm.ddVisible}} items=vm.topicChildItems item-click=vm.ddItemClick() css-class=master-dropdown></nx-rt-dropdown></ion-nav-bar><ion-content scroll=false class=master-view><sub-tab-filter ng-if=\\\"vm.memberRole==\\'SUPER_MASTER\\'\\\" collection-child-items=vm.collectionChildItems topic-child-items=vm.topicChildItems collection-child-active-index=vm.collectionChildActiveIndex topic-child-active-index=vm.topicChildActiveIndex></sub-tab-filter><ion-slide-box slide-tabs-scrollable=false show-pager=false auto-play=false does-continue=false nx-ionic-slide-top-nav active-slide=vm.activeSlideIndex on-slide-changed=vm.slideChange()><ion-slide nx-ionic-slide-tab-label=全部><ion-nav-view name=all></ion-nav-view></ion-slide><ion-slide nx-ionic-slide-tab-label=未处理><ion-nav-view name=unhandled></ion-nav-view></ion-slide><ion-slide nx-ionic-slide-tab-label=已处理 name=handled><ion-nav-view name=handled></ion-nav-view></ion-slide></ion-slide-box></ion-content></ion-view>\");\n$templateCache.put(\"app/master-detail/index.html\",\"<ion-view class=master-detail-view cache-view=false hide-nav-bar=true nx-prevent-body-move><ion-content scroll=false><div class=bd><!--ng-src=\\\"{{IMG+vm.item.background}}\\\" --> <img ng-src={{IMG+vm.item.background}}> <a ui-sref=\\\" main.master-say\\\"><div class=bd-arrow><i class=ion-ios-arrow-left data-pack=ios data-tags=chevron></i></div></a><div class=\\\"bd-des padding\\\"><div class=\\\"lfix_ clfix\\\"><h1 class=c-f>{{vm.item.nickname}}</h1><span class=\\\"c-f f22 bd-experience\\\">●从业{{vm.item.careerAge}}年</span></div><p class=\\\"c-f f12\\\">{{vm.item.signature}}</p><div class=blank-10></div><div class=hr></div><div class=blank-10></div><p class=c-f>{{vm.item.profile}}</p><div class=blank-10></div></div></div></ion-content></ion-view>\");\n$templateCache.put(\"app/topic-detail/index.html\",\"<ion-view class=topic-detail-view><ion-nav-bar class=bar-assertive><ion-nav-title>话题详情</ion-nav-title><ion-nav-back-button side=primary class=\\\"button-clear force-shown\\\" ng-click=vm.back()><i class=\\\"icon ion-ios-arrow-left\\\"></i></ion-nav-back-button><ion-nav-buttons side=secondary class=secondary-buttons><button class=\\\"button button-small button-clear\\\" ng-click=vm.appService.toggleFavorite(vm.detail) ng-if=\\\"vm.detail.topicType==\\'P_T_T_01\\' || vm.detail.topicType==\\'P_T_T_02\\'\\\"><i class=\\\"icon ion-ios-star\\\" data-active={{vm.detail.favorite}}></i></button> <button ng-click=vm.appService.share(vm.detail) class=\\\"button button-small button-clear\\\"><i class=\\\"icon ion-share\\\"></i></button></ion-nav-buttons></ion-nav-bar><ion-content class=\\\"has-footer has-header\\\"><!--下拉刷新--><ion-refresher pulling-text=下拉刷新 on-refresh=vm.doRefresh()></ion-refresher><div class=\\\"padding hd\\\"><!--用户信息区 start--><section class=hd-user><div class=row><div class=\\\"col-20 hd-left\\\"><div class=hd-img><img ng-src={{IMG+vm.detail.memberIcon}}></div></div><div class=\\\"col-80 hd-right\\\"><div class=\\\"rel wp-10\\\"><h1 class=\\\"l c-3 f16 hlh24\\\">{{vm.detail.memberNickname}}</h1><div ng-click=vm.appService.toggleFollow(vm.detail)><tag class=\\\"l lfix\\\" active={{vm.detail.focus}}>{{ vm.detail.focus ? \\'已关注\\':\\'+关注\\'}}</tag></div><span class=\\\"c-9 campaign\\\" ng-if=\\\"vm.detail.topicType==\\'P_T_T_04\\'\\\">推广</span></div><div class=hlh26><img class=member-level ng-src=\\\"assets/images/{{vm.detail.memberLevel | toLevelImage}}\\\"></div></div></div><div ng-if=vm.detail.identifyResult><img class=seal ng-src=\\\"assets/images/{{ vm.detail.identifyResult | toJudgeImg}}\\\"></div></section><!--用户信息区 end--></div><div class=bd><div><!--帖子图片区 start--><section class=img-list ng-if=\\\"vm.detail.topicType==\\'P_T_T_01\\' || vm.detail.topicType==\\'P_T_T_02\\'\\\"><figure ng-repeat=\\\"item in vm.detail.images \\\" ng-click=\\\"vm.utils.showPhotoSwipe($index,vm.detail.images )\\\"><img ng-src=\\\"{{IMG + item}}\\\" class=il-img></figure></section><!--帖子图片区 end--><!--帖子详情描述区 start--><section class=\\\"td-detail padding\\\" ng-if=!!vm.detail.content><span data-essenceactive={{vm.userItem.highlight}} class=\\\"c-f f14\\\" hidden>精</span><iframe ng-src={{vm.detail.adUrl}} ng-if=\\\"vm.detail.topicType==\\'P_T_T_04\\'\\\" width=100% height=100% style=\\\"min-height: 300px\\\"></iframe><p class=\\\"f16 c-6 lh24\\\" ng-if=\\\"vm.detail.topicType != \\'P_T_T_04\\'\\\">{{vm.detail.content}}</p></section><!--帖子详情描述区 end--><section class=padding><span class=\\\"hd-countDown c-6 f12\\\" am-time-ago=vm.detail.createTime></span></section></div><section class=padding><!--link-share start--><link-share snapshot={{IMG+vm.detail.linkFileName}} ng-if=\\\"vm.detail.topicType==\\'P_T_T_03\\'\\\">{{vm.detail.linkTitle}}</link-share><!--link-share end--></section><!--关注此贴子的会员展示区 start--><section class=\\\"padding td-user upvoted-list\\\" ng-if=\\\"vm.upvoted.rows.length>0\\\"><ul><li ng-repeat=\\\"item in vm.upvoted.rows track by $index\\\"><figure><img ng-src=\\\"{{IMG + item}}\\\"></figure></li></ul><div class=\\\"td-user-num c-6\\\">{{vm.detail.upvoteCount}}</div></section><!--关注此贴子的会员展示区 end--><div class=blank-10></div><!--帖子评论区 start--><section class=dc-feedback><!--fb-item start--><div class=fb-item ng-repeat=\\\"item in vm.items\\\"><div class=\\\"row padding\\\"><div class=\\\"col-20 fb-left\\\"><div class=fb-img><img ng-src=\\\"{{IMG + item.memberIcon}}\\\"></div></div><div class=\\\"col-80 fb-right lfix_\\\"><div class=wp-8><div class=\\\"hlh26 fb-owners-one\\\"><ul><li><div class=\\\"l f16 c-715100 mr5\\\">{{item.memberNickname}}</div></li><li><img class=fb-owners ng-if=item.masterReply src=assets/images/mdf_evaluate1@2x.png></li></ul></div><div class=hlh26><span class=\\\"fb-count-down c-9 f12\\\">{{item.createTime}}</span></div></div><div class=wp-2><span class=\\\"fb-upvoted f18 r\\\" ng-click=vm.appService.toggleReplySupport(item)><i class=\\\"dc-icon-upvote mr5\\\" data-active={{item.upvoted}} data-pack=default data-tags=\\\"like, fun, yes\\\"></i><span class=\\\"c-9 f16\\\">{{item.upvoteCount || 0}}</span></span></div></div></div><div class=row><div class=\\\"col-80 col-offset-20 c-9\\\"><p ng-click=vm.cgReply(item)>{{item.content}}</p><div class=\\\"col c-9 reply-div-top\\\" style=padding:0 ng-if=\\\"item.replyVoList.length>0\\\"><div class=reply-jt></div><div class=reply-div><div ng-repeat=\\\"v in item.replyVoList\\\" class=replay-p ng-click=vm.cgReply(v)><ul><li><span class=\\\"reply-name mr5\\\" master-active={{v.masterReply}}>{{v.memberNickname}}</span></li><li><img class=\\\"replay-img mr5\\\" src=assets/images/mdf_evaluate1@2x.png ng-if=v.masterReply></li><li><span class=\\\"reply-mh mr5\\\">:</span></li><li>回复</li><li><span class=\\\"reply-to-name mr5\\\" master-active={{v.replyMaster}}>{{v.parentReplyMemberNickname}}</span></li><li><img class=\\\"replay-img mr5\\\" src=assets/images/mdf_evaluate1@2x.png ng-if=v.replyMaster></li><li><span class=\\\"reply-mh mr5\\\">:</span></li></ul>{{v.content}}</div></div></div></div></div></div><!--fb-item end--><!--上拉加载更多的数据 start--><div class=\\\"no-more c-9 text-center padding\\\" ng-if=!vm.hasMoreData><i class=\\\"ion ion-sad\\\"></i> <span>没有更多的数据了</span></div><ion-infinite-scroll ng-if=vm.hasMoreData on-infinite=vm.loadMore() distance=1%></ion-infinite-scroll><!--上拉加载更多的数据 end--></section><!--帖子评论区 end--></div></ion-content><div class=fixed-replay-box nx-prevent-body-move><!--评论输入区 start--><section><div class=fb-tip><div class=fb-des>{{vm.detail.commentCount||0}}条评论</div><div class=fb-jt></div></div><div class=fb-write><div class=row><div class=wp-7><input class=dc-in data-focus={{vm.fbFocus}} ng-focus=\\\"vm.fbFocus=true\\\" ng-blur=\\\"vm.fbFocus=false\\\" placeholder={{vm.replyPlaceholder}} ng-model=vm.replyContent></div><div class=wp-3><div class=row ng-if=!(vm.fbFocus||!!vm.replyContent)><div class=\\\"col v-a-middle\\\" ng-click=vm.appService.toMemberIndex({memberID:vm.detail.id})><img src=assets/images/but_shop_normal@3x.png width=16 class=v-a-middle></div><div class=\\\"col action-upvoted v-a-middle\\\" ng-click=vm.appService.toggleSupport(vm.detail)><i class=\\\"dc-icon-upvote mr5 v-a-middle\\\" data-active={{vm.detail.upvoted}} data-pack=default data-tags=\\\"like, fun, yes\\\"></i><span class=\\\"f16 c-9 v-a-middle\\\">{{vm.detail.upvoteCount}}</span></div></div><div ng-if=vm.fbFocus||!!vm.replyContent class=text-center><button class=btn-send ng-click=vm.save()>发送</button></div></div></div></div></section></div></ion-view>\");\n$templateCache.put(\"app/components/judge-item-toggle/tmpl.html\",\"<div class=\\\"judge-item-toggle {{cssClass}}\\\" data-active={{active}} data-disabled={{isDisabled}}><div class=inner ng-transclude></div></div>\");\n$templateCache.put(\"app/components/link-share/tmpl.html\",\"<a class=\\\"row row-no-padding link-share\\\"><div class=col><img ng-src={{snapshot}} alt=\\\"\\\"></div><div class=\\\"col-80 right\\\" ng-transclude></div></a>\");\n$templateCache.put(\"app/components/photo-swipe/tmpl.html\",\"<!-- .photo-swipe Start--><!-- Root element of PhotoSwipe. Must have class pswp. --><div class=\\\"pswp photo-swipe\\\" tabindex=-1 role=dialog aria-hidden=true><!-- Background of PhotoSwipe.\\n       It\\'s a separate element as animating opacity is faster than rgba(). --><div class=pswp__bg></div><!-- Slides wrapper with overflow:hidden. --><div class=pswp__scroll-wrap><!-- Container that holds slides.\\n        PhotoSwipe keeps only 3 of them in the DOM to save memory.\\n        Don\\'t modify these 3 pswp__item elements, data is added later on. --><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. --><div class=\\\"pswp__ui pswp__ui--hidden\\\"><div class=pswp__top-bar><!--  Controls are self-explanatory. Order can be changed. --><div class=pswp__counter></div><button class=\\\"pswp__button pswp__button--close\\\" title=\\\"Close (Esc)\\\"></button> <button class=\\\"pswp__button pswp__button--zoom\\\" title=\\\"Zoom in/out\\\"></button><!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR --><!-- element will get class pswp__preloader--active when preloader is running --><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class=\\\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\\\"><div class=pswp__share-tooltip></div></div><button class=\\\"pswp__button pswp__button--arrow--left\\\" title=\\\"Previous (arrow left)\\\"></button> <button class=\\\"pswp__button pswp__button--arrow--right\\\" title=\\\"Next (arrow right)\\\"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><!-- .photo-swipe   End-->\");\n$templateCache.put(\"app/components/radio/tmpl.html\",\"<div class=dc-radio data-active={{active}}><i class=\\\"icon ion-ios-checkmark\\\"></i> <span ng-transclude></span></div>\");\n$templateCache.put(\"app/components/sub-nav/tmpl.html\",\"<div class=dc-sub-nav><section class=bd><nx-active-items items=items active-index=activeIndex css-class=\\\"row row-no-padding\\\"><nx-active-item ng-repeat=\\\"item in items\\\" class=col><a ui-sref={{item.sref}}><span>{{item.title}}</span></a></nx-active-item><b class=bar ng-style=\\\"{width:100/items.length+\\'%\\',left:100*activeIndex/items.length+\\'%\\'}\\\"></b></nx-active-items></section></div>\");\n$templateCache.put(\"app/components/sub-tab-filter/tmpl.html\",\"<div class=dc-inline-overlay nx-prevent-body-move data-visible={{tabFilterItems[activeIndex].active}} ng-click=\\\"tabFilterItems[activeIndex].active=false\\\"></div><!--dc-tab-filter start--><nav class=dc-tab-filter><ul class=\\\"bg-f text-center row row-no-padding\\\"><li class=col ng-repeat=\\\"item in tabFilterItems\\\" ng-click=toggle(item,$event) data-active={{item.active}}><span>{{item.title}}</span> <i class=\\\"icon ion-ios-arrow-down\\\"></i></li></ul><b class=bar></b></nav><!--dc-tab-filter end--><!--todo:optimize bugyy code--><!--dc-tab-filter-content Start--><div class=dc-tab-filter-content ng-if=tabFilterItems[activeIndex].active><section ng-show=\\\"activeIndex==0\\\"><nx-active-items items=collectionChildItems active-index=collectionChildActiveIndex css-class=header><nx-active-item ng-repeat=\\\"item in collectionChildItems\\\" ng-click=collectionItemClick(item,collectionChildActiveIndex)><tag active={{item.active}}>{{item.text}}</tag></nx-active-item></nx-active-items></section><section ng-show=\\\"activeIndex==1\\\"><nx-active-items items=topicChildItems active-index=topicChildActiveIndex css-class=header><nx-active-item ng-repeat=\\\"item in topicChildItems\\\" ng-click=topicItemClick(item,topicChildActiveIndex)><tag active={{item.active}}>{{item.text}}</tag></nx-active-item></nx-active-items></section></div><!--dc-tab-filter-content End-->\");\n$templateCache.put(\"app/components/tag/tmpl.html\",\"<span class=dc-tag data-active={{active}} ng-transclude></span>\");\n$templateCache.put(\"app/components/thread-item/tmpl.html\",\"<div class=\\\"padding dc-item thread-item\\\" ng-repeat=\\\"item in vm.items\\\"><!--用户信息区 start--><section class=hd><tag active=true ng-if=\\\"manage == \\'true\\'\\\" tabindex=0 class=manage ng-click=vm.manage(item)>管理</tag><div class=row><div class=\\\"col-20 hd-left\\\" ng-click=vm.appService.toMemberIndex({memberID:item.id})><div class=hd-img><img ng-src={{imgBaseUrl+item.memberIcon}}></div></div><div class=\\\"col-80 hd-right\\\"><div class=wp-10><h1 class=\\\"l c-3 f16 hlh24\\\">{{item.memberNickname}}</h1><div ng-click=vm.appService.toggleFollow(item)><tag class=\\\"l lfix\\\" active={{!item.focus}}>{{ item.focus ? \\'已关注\\':\\'+关注\\'}}</tag></div><span class=\\\"c-9 campaign\\\" ng-if=\\\"item.topicType==\\'P_T_T_04\\'\\\">推广</span></div><div class=blank-5></div><div class=hlh26><!--<span class=\\\"hd-countDown c-6 f12\\\" am-time-ago=\\\"item.createTime\\\"></span>--> <img class=member-level ng-src=\\\"assets/images/{{item.memberLevel | toLevelImage}}\\\" alt=\\\"\\\"></div></div></div><div ng-if=item.identifyResult><img class=seal ng-src=\\\"assets/images/{{item.identifyResult | toJudgeImg}}\\\"></div></section><!--用户信息区 end--><!--帖子详情 start--><section class=bd ng-click=vm.appService.toTopicDetail(item)><img src=../../../assets/images/mdf_essence@3x.png width=23 ng-if=\\\"item.classify==\\'HIGHLIGHT\\'\\\"> <img src=../../../assets/images/mdf_knowledge@3x.png width=57 ng-if=\\\"item.classify==\\'KNOWLEDGE\\'\\\"><p class=\\\"remark f14 c-9 lh20\\\">{{item.content}}</p><!--link-share start--><link-share snapshot={{imgBaseUrl+item.linkFileName}} ng-click=vm.toTopicDetail(item) ng-if=\\\"item.topicType==\\'P_T_T_03\\'\\\">{{item.linkTitle}}</link-share><!--link-share end--><figure ng-if=\\\"item.topicType==\\'P_T_T_01\\' || item.topicType==\\'P_T_T_02\\'\\\"><img ng-src={{imgBaseUrl+item.coverPage}} class=bd-img1></figure><!--掌门回复 start--><article class=bd-owners><div class=dc-item><ul ng-repeat=\\\"judgeItem in item.replyVoList\\\"><li><span class=bd-owners-name>{{judgeItem.memberNickname}}</span></li><li><img src=assets/images/mdf_evaluate1@2x.png width=16></li><li><span class=\\\"c-0 f20\\\">:</span></li><li><div class=\\\"c-9 bd-owners-des\\\">{{judgeItem.content}}</div></li></ul></div></article><!--掌门回复 end--></section><!--帖子详情 end--><!--bd-share start--><section class=\\\"bd-share row row-no-padding ft\\\"><div class=\\\"col-40 row-center\\\"><span class=\\\"hd-countDown c-6 f12\\\" am-time-ago=item.createTime></span></div><ul class=\\\"col-60 row-center f20\\\"><li ng-click=vm.appService.toggleFavorite(item) ng-if=\\\"item.topicType==\\'P_T_T_01\\' || item.topicType==\\'P_T_T_02\\'\\\"><i class=\\\"dc-icon-favorite action-favorite\\\" data-active={{item.favorite}} data-pack=android data-tags=\\\"favorite, like, rate\\\"></i></li><li ng-click=vm.appService.share(item) ng-if=\\\"item.topicType==\\'P_T_T_01\\' || item.topicType==\\'P_T_T_02\\'\\\"><i class=dc-icon-share data-pack=default data-tags=outbound></i></li><li ng-click=vm.appService.toTopicDetail(item)><i class=dc-icon-comment data-pack=android data-tags=\\\"talk, text\\\"></i></li><li ng-click=vm.appService.toggleSupport(item)><i class=\\\"dc-icon-upvote mr5\\\" data-active={{item.upvoted}} data-pack=default data-tags=\\\"like, fun, yes\\\"></i><span class=\\\"c-9 f16\\\">{{item.upvoteCount}}</span></li></ul></section><!--bd-share end--></div>\");\n$templateCache.put(\"app/components/top-nav/tmpl.html\",\"<div class=dc-top-nav><section class=bd><nx-active-items items=items active-index=activeIndex css-class=\\\"row row-no-padding dc-top-nav-header\\\"><nx-active-item ng-repeat=\\\"item in items\\\" class=col><a ui-sref={{item.sref}}><span>{{item.title}}</span></a></nx-active-item></nx-active-items></section></div>\");\n$templateCache.put(\"app/main/follow/index.html\",\"<ion-view class=follow-view cache-view=false><ion-content><!--下拉刷新--><ion-refresher pulling-text=下拉刷新 on-refresh=vm.doRefresh()></ion-refresher><!--dc-thread-list start--><div class=dc-thread-list><thread-item vm=vm img-base-url={{IMG}}></thread-item><!--上拉加载更多的数据 start--><div class=\\\"no-more c-9 text-center padding\\\" ng-if=!vm.hasMoreData><i class=\\\"ion ion-sad\\\"></i> <span>没有更多的数据了</span></div><ion-infinite-scroll ng-if=vm.hasMoreData on-infinite=vm.loadMore() distance=1%></ion-infinite-scroll><!--上拉加载更多的数据 end--></div><!--dc-thread-list end--></ion-content></ion-view>\");\n$templateCache.put(\"app/main/master-say/index.html\",\"<ion-view class=master-say-view><ion-content><!--master-say-nav start--><div class=master-say-nav><section class=bd><nx-active-items items=vm.navItems active-index=vm.navActiveIndex css-class=\\\"row row-no-padding\\\"><nx-active-item ng-repeat=\\\"item in vm.navItems\\\" class=col><tag active={{item.active}}>{{item.text}}</tag></nx-active-item></nx-active-items></section></div><!--master-say-nav end--><!--master-list start--><section class=master-list><!--master-list-2 start--><div class=master-list-2 ng-if=\\\"vm.masterItems.length==2\\\" data-index=2><img src=assets/images/dc007.png class=ma-sign><div class=row><div class=col ng-repeat=\\\"item in vm.masterItems\\\"><figure ng-click=vm.toMasterDetail(item)><img ng-src={{IMG+item.background}} class=ma-list-bg><figcaption>{{item.nickname}}</figcaption></figure></div></div></div><!--master-list-2 end--><!--master-list-3 start--><div class=master-list-3 ng-if=\\\"vm.masterItems.length==3\\\" data-index=3><img src=assets/images/dc007.png class=ma-sign><div class=blank-10></div><div class=dc-list><div class=dc-item ng-repeat=\\\"item in vm.masterItems\\\"><figure ng-click=vm.toMasterDetail(item)><img ng-src={{IMG+item.background}} class=ma-list-bg><figcaption>{{item.nickname}}</figcaption></figure></div></div></div><!--master-list-3 end--><!--master-list-4 start--><div class=master-list-4 ng-if=\\\"vm.masterItems.length==4\\\" data-index=4><img src=assets/images/dc007.png class=ma-sign><div class=blank-10></div><div class=\\\"wp-10 lfix_ dc-list\\\"><div class=wp-5 ng-repeat=\\\"item in vm.masterItems\\\"><figure ng-click=vm.toMasterDetail(item)><img ng-src={{IMG+item.background}} class=ma-list-bg><figcaption>{{item.nickname}}</figcaption></figure></div></div></div><!--master-list-4 end--></section><!--master-list end--><!--下拉刷新 start--><ion-refresher pulling-text=下拉刷新 on-refresh=vm.doRefresh()></ion-refresher><!--下拉刷新 end--><!--dc-thread-list start--><div class=dc-thread-list><thread-item vm=vm img-base-url={{IMG}}></thread-item><!--上拉加载更多的数据 start--><div class=\\\"no-more c-9 text-center padding\\\" ng-if=!vm.hasMoreData><i class=\\\"ion ion-sad\\\"></i> <span>没有更多的数据了</span></div><ion-infinite-scroll ng-if=vm.hasMoreData on-infinite=vm.loadMore() distance=1%></ion-infinite-scroll><!--上拉加载更多的数据 end--></div><!--dc-thread-list end--></ion-content></ion-view>\");\n$templateCache.put(\"app/main/recommend/index.html\",\"<ion-view class=recommend-view cache-view=false><ion-content><!--下拉刷新--><ion-refresher pulling-text=下拉刷新 on-refresh=vm.doRefresh()></ion-refresher><!--dc-thread-list start--><div class=dc-thread-list><thread-item vm=vm img-base-url={{IMG}}></thread-item><!--上拉加载更多的数据 start--><div class=\\\"no-more c-9 text-center padding\\\" ng-if=!vm.hasMoreData><i class=\\\"ion ion-sad\\\"></i> <span>没有更多的数据了</span></div><ion-infinite-scroll ng-if=vm.hasMoreData on-infinite=vm.loadMore() distance=1%></ion-infinite-scroll><!--上拉加载更多的数据 end--></div><!--dc-thread-list end--></ion-content></ion-view>\");\n$templateCache.put(\"app/main/sticky/index.html\",\"<ion-view class=sticky-view cache-view=false><ion-content><!--下拉刷新--><ion-refresher pulling-text=下拉刷新 on-refresh=vm.doRefresh()></ion-refresher><!--dc-thread-list start--><div class=dc-thread-list><thread-item vm=vm img-base-url={{IMG}}></thread-item><!--上拉加载更多的数据 start--><div class=\\\"no-more c-9 text-center padding\\\" ng-if=!vm.hasMoreData><i class=\\\"ion ion-sad\\\"></i> <span>没有更多的数据了</span></div><ion-infinite-scroll ng-if=vm.hasMoreData on-infinite=vm.loadMore() distance=1%></ion-infinite-scroll><!--上拉加载更多的数据 end--></div><!--dc-thread-list end--></ion-content></ion-view>\");\n$templateCache.put(\"app/master/all/index.html\",\"<ion-view title=掌门人 class=\\\"master-view all\\\" cache-view=false><ion-content class=full-height><!--下拉刷新--><ion-refresher pulling-text=下拉刷新 on-refresh=vm.doRefresh()></ion-refresher><!--dc-thread-list start--><div class=dc-thread-list><thread-item vm=vm manage=true img-base-url={{IMG}}></thread-item><!--上拉加载更多的数据 start--><div class=\\\"no-more c-9 text-center padding\\\" ng-if=!vm.hasMoreData><i class=\\\"ion ion-sad\\\"></i> <span>没有更多的数据了</span></div><ion-infinite-scroll ng-if=vm.hasMoreData on-infinite=vm.loadMore() distance=1%></ion-infinite-scroll><!--上拉加载更多的数据 end--></div><!--dc-thread-list end--></ion-content></ion-view>\");\n$templateCache.put(\"app/master/handled/index.html\",\"<ion-view title=掌门人 class=\\\"master-view handled\\\" cache-view=false><ion-content class=full-height><!--下拉刷新--><ion-refresher pulling-text=下拉刷新 on-refresh=vm.doRefresh()></ion-refresher><!--dc-thread-list start--><div class=dc-thread-list><thread-item vm=vm manage=true img-base-url={{IMG}}></thread-item><!--上拉加载更多的数据 start--><div class=\\\"no-more c-9 text-center padding\\\" ng-if=!vm.hasMoreData><i class=\\\"ion ion-sad\\\"></i> <span>没有更多的数据了</span></div><ion-infinite-scroll ng-if=vm.hasMoreData on-infinite=vm.loadMore() distance=1%></ion-infinite-scroll><!--上拉加载更多的数据 end--></div><!--dc-thread-list end--></ion-content></ion-view>\");\n$templateCache.put(\"app/master/unhandled/index.html\",\"<ion-view title=掌门人 class=\\\"master-view unhandled\\\" cache-view=false><ion-content class=full-height><!--下拉刷新--><ion-refresher pulling-text=下拉刷新 on-refresh=vm.doRefresh()></ion-refresher><!--dc-thread-list start--><div class=dc-thread-list><thread-item vm=vm manage=true img-base-url={{IMG}}></thread-item><!--上拉加载更多的数据 start--><div class=\\\"no-more c-9 text-center padding\\\" ng-if=!vm.hasMoreData><i class=\\\"ion ion-sad\\\"></i> <span>没有更多的数据了</span></div><ion-infinite-scroll ng-if=vm.hasMoreData on-infinite=vm.loadMore() distance=1%></ion-infinite-scroll><!--上拉加载更多的数据 end--></div><!--dc-thread-list end--></ion-content></ion-view>\");}]);"],"sourceRoot":"/source/"}