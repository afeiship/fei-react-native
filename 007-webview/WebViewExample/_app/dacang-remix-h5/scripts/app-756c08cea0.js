!function(){"use strict";angular.module("dacangRemix",["ngAnimate","ionic","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ui.router","toastr","timer","LocalStorageModule","angularMoment","nx.widget"])}(),function(){"use strict";function e(e,t,i,n,a,s){function o(){l=1,r=3,d.items=[],c()}function c(){e.busy=!0,a.getSticky({page:l,rows:r}).success(function(e){var t=e.rows;d.hasMoreData=t.length===r,d.items=d.items.concat(t)})["finally"](function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete")}),l++}var l,r,d=this;d.doRefresh=o,d.loadMore=c,d.appService=a,o()}e.$inject=["$rootScope","$scope","$stateParams","$timeout","AppService","toastr"],angular.module("dacangRemix").controller("MainStickyController",e)}(),function(){"use strict";function e(e,t,i,n,a,s,o,c,l,r,d){function m(){p=1,v=3,g.items=[],u()}function u(){s.getLatest({page:p,rows:v}).success(function(e){var t=e.rows;g.hasMoreData=t.length===v,g.items=g.items.concat(t)})["finally"](function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete")}),p++}var p,v,g=this;window.vm=g,g.doRefresh=m,g.loadMore=u,g.appService=s,m()}e.$inject=["$rootScope","$scope","$state","$stateParams","$timeout","AppService","IMGSERVER","$location","BridgeService","utils","localStorageService"],angular.module("dacangRemix").controller("MainRecommendController",e)}(),function(){"use strict";function e(e,t,i,n,a,s,o,c){function l(){b=1,I=3,y.items=[]}function r(){s.getMasterSay({page:b,rows:I,productType:y.navItems[y.navActiveIndex].id}).success(function(e){var t=e.rows;y.hasMoreData=t.length===I,y.items=y.items.concat(t)})["finally"](function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete")}),b++}function d(e){c.set("master-detail",e),i.go("master-detail")}function m(e){s.getParamListByType({type:"PRD_TYPE",scope:e}).success(function(e){e.length&&(y.navItems=v(e),y.navActiveIndex=0)})}function u(){t.$watch(function(){return y.navActiveIndex},function(e){-1!==e&&(p(),g())})}function p(){s.findMasterByProductType_200({page:b,rows:4,productType:y.navItems[y.navActiveIndex].id}).success(function(e){y.masterItems=e})}function v(e){return(e||[]).forEach(function(e){e.active=e.defaultOne}),e}function g(){l(),r(),f()}function f(){s.getMemberRole_200().success(function(e){y.memberRole=e.result})}function h(){t.$watch(function(){return y.memberRole},function(e){var t="SUPER_MASTER"==e?2:1;m(t)})}var b,I,y=this;window.vm=y,y.doRefresh=g,y.loadMore=r,y.toMasterDetail=d,y.appService=s,y.navCurrentItem=null,y.navItems=[],y.navActiveIndex=-1,y.masterItems=[],y.memberRole="NORMAL",u(),l(),h()}e.$inject=["$rootScope","$scope","$state","$stateParams","$timeout","AppService","toastr","localStorageService"],angular.module("dacangRemix").controller("MainMasterSayController",e)}(),function(){"use strict";function e(e,t,i,n,a,s){function o(){l=1,r=3,d.items=[],c()}function c(){a.getFollow({page:l,rows:r}).success(function(e){var t=e.rows;d.hasMoreData=t.length===r,d.items=d.items.concat(t)})["finally"](function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete")}),l++}var l,r,d=this;d.doRefresh=o,d.loadMore=c,d.appService=a,o()}e.$inject=["$rootScope","$scope","$stateParams","$timeout","AppService","toastr"],angular.module("dacangRemix").controller("MainFollowController",e)}(),function(){"use strict";function e(e,t,i,n,a,s,o,c){function l(e){a.show({buttons:[{text:"品评",action:"judge",currentItems:e},{text:"删除",action:"delete",currentItems:e}],cancelText:"取消",buttonClicked:function(e,t){switch(t.action){case"judge":u(t);break;case"delete":p(t)}return!0}})}function r(){g=1,f=3,h.items=[],d()}function d(){s.findManagedPostByPage({page:g,rows:f,memberRole:h.memberRole,topic:t.topicCurrentItem.id,productType:t.collectionCurrentItem.id,execute:!1}).success(function(e){var t=e.rows;h.hasMoreData=t.length===f,t.forEach(function(e){h.items.push(e)})})["finally"](function(){i.$broadcast("scroll.refreshComplete"),i.$broadcast("scroll.infiniteScrollComplete")}),g++}function m(){t.topicCurrentItem&&r(),t.$on("filterChange",function(e,t){r()})}function u(e){n.go("judge",{postId:e.currentItems.id})}function p(e){s.deletePostById_200({postId:e.currentItems.id}).success(function(e){c.info("删除成功~")})}function v(){s.getMemberRole_200().success(function(e){h.memberRole=e.result,m()})}var g,f,h=this;window.vm=h,h.manage=l,h.doRefresh=r,h.loadMore=d,h.appService=s,h.memberRole="NORMAL",v()}e.$inject=["$ionicBackdrop","$rootScope","$scope","$state","$ionicActionSheet","AppService","BridgeService","toastr"],angular.module("dacangRemix").controller("MasterUnhandledController",e)}(),function(){"use strict";function e(e,t,i,n,a,s,o,c){function l(e){a.show({buttons:[{text:"品评",action:"judge",currentItems:e},{text:"删除",action:"delete",currentItems:e}],cancelText:"取消",buttonClicked:function(e,t){switch(t.action){case"judge":u(t);break;case"delete":p(t)}return!0}})}function r(){g=1,f=3,h.items=[],d()}function d(){s.findManagedPostByPage({page:g,rows:f,memberRole:h.memberRole,topic:t.topicCurrentItem.id,productType:t.collectionCurrentItem.id,execute:!0}).success(function(e){var t=e.rows;h.hasMoreData=t.length===f,t.forEach(function(e){h.items.push(e)})})["finally"](function(){i.$broadcast("scroll.refreshComplete"),i.$broadcast("scroll.infiniteScrollComplete")}),g++}function m(){t.topicCurrentItem&&r(),t.$on("filterChange",function(e,t){r()})}function u(e){n.go("judge",{postId:e.currentItems.id})}function p(e){s.deletePostById_200({postId:e.currentItems.id}).success(function(e){c.info("删除成功~")})}function v(){s.getMemberRole_200().success(function(e){h.memberRole=e.result,m()})}var g,f,h=this;window.vm=h,h.manage=l,h.doRefresh=r,h.loadMore=d,h.appService=s,h.memberRole="NORMAL",v()}e.$inject=["$ionicBackdrop","$rootScope","$scope","$state","$ionicActionSheet","AppService","BridgeService","toastr"],angular.module("dacangRemix").controller("MasterHandledController",e)}(),function(){"use strict";function e(e,t,i,n,a,s,o,c,l){function r(e){s.show({buttons:[{text:"品评",action:"judge",currentItems:e},{text:"删除",action:"delete",currentItems:e}],cancelText:"取消",buttonClicked:function(e,t){switch(t.action){case"judge":p(t);break;case"delete":v(t)}return!0}})}function d(){f=1,h=3,b.items=[],m()}function m(){o.findManagedPostByPage({page:f,rows:h,memberRole:b.memberRole,topic:t.topicCurrentItem.id,productType:t.collectionCurrentItem.id,execute:null}).success(function(e){var t=e.rows;b.hasMoreData=t.length===h,t.forEach(function(e){b.items.push(e)})})["finally"](function(){i.$broadcast("scroll.refreshComplete"),i.$broadcast("scroll.infiniteScrollComplete")}),f++}function u(){t.topicCurrentItem&&d(),t.$on("filterChange",function(e,t){d()})}function p(e){n.go("judge",{postId:e.currentItems.id})}function v(e){o.deletePostById_200({postId:e.currentItems.id}).success(function(e){d(),l.info("删除成功~")})}function g(){o.getMemberRole_200().success(function(e){b.memberRole=e.result,u()})}var f,h,b=this;window.vm=b,b.manage=r,b.doRefresh=d,b.loadMore=m,b.appService=o,b.memberRole="NORMAL",g()}e.$inject=["$ionicBackdrop","$rootScope","$scope","$state","$stateParams","$ionicActionSheet","AppService","BridgeService","toastr"],angular.module("dacangRemix").controller("MasterAllController",e)}(),function(){"use strict";function e(e){var t={restrict:"E",scope:{activeIndex:"=",items:"="},templateUrl:"app/components/top-nav/tmpl.html"};return t}e.$inject=["$rootScope"],angular.module("dacangRemix").directive("topNav",e)}(),function(){"use strict";function e(e){var t={restrict:"E",scope:{vm:"=",imgBaseUrl:"@",manage:"@"},templateUrl:"app/components/thread-item/tmpl.html"};return t}e.$inject=["$rootScope"],angular.module("dacangRemix").directive("threadItem",e)}(),function(){"use strict";function e(e){var t={restrict:"E",transclude:!0,scope:{active:"@"},templateUrl:"app/components/tag/tmpl.html"};return t}e.$inject=["$rootScope"],angular.module("dacangRemix").directive("tag",e)}(),function(){"use strict";function e(){function e(e){function i(t,i){e.tabFilterItems.forEach(function(i,n){angular.equals(t,i)?e.activeIndex=n:i.active=!1}),t.active=!t.active,e.inlineOverlayVisible=t.active}function n(t,i){e.collectionChildActiveIndex=i}function a(t,i){e.topicChildActiveIndex=i}window.sc=e,e.toggle=i,e.tabFilterItems=t(),e.activeIndex=0,e.collectionItemClick=n,e.topicItemClick=a}var i={restrict:"E",scope:{collectionChildItems:"=",collectionChildActiveIndex:"=",topicChildItems:"=",topicChildActiveIndex:"="},templateUrl:"app/components/sub-tab-filter/tmpl.html",link:e};return i}function t(){return[{title:"藏品",active:!1,sref:"collection"},{title:"话题",active:!1,sref:"topic"}]}angular.module("dacangRemix").directive("subTabFilter",e)}(),function(){"use strict";function e(e){var t={restrict:"E",scope:{activeIndex:"=",items:"="},templateUrl:"app/components/sub-nav/tmpl.html"};return t}e.$inject=["$rootScope"],angular.module("dacangRemix").directive("subNav",e)}(),function(){"use strict";function e(e){var t={restrict:"E",transclude:!0,scope:{active:"="},templateUrl:"app/components/radio/tmpl.html"};return t}e.$inject=["$rootScope"],angular.module("dacangRemix").directive("radio",e)}(),function(){"use strict";function e(e){return{restrict:"E",templateUrl:"app/components/photo-swipe/tmpl.html"}}e.$inject=["$timeout"],angular.module("dacangRemix").directive("photoSwipe",e)}(),function(){"use strict";function e(e){var t={restrict:"E",transclude:!0,scope:{snapshot:"@"},templateUrl:"app/components/link-share/tmpl.html"};return t}e.$inject=["$rootScope"],angular.module("dacangRemix").directive("linkShare",e)}(),function(){"use strict";function e(e,t){var i={restrict:"E",transclude:!0,scope:{cssClass:"@",active:"=",isDisabled:"@"},templateUrl:"app/components/judge-item-toggle/tmpl.html"};return i}e.$inject=["$rootScope","$timeout"],angular.module("dacangRemix").directive("judgeItemToggle",e)}(),function(){"use strict";function e(e,t,i){return{request:function(e){var t=e.headers;for(var i in t)t[i]||delete t[i];return e},responseError:function(i){return 401==i.status&&e.bridgeWarning("toLogin")&&t(function(){e.toLogin()},500),i}}}e.$inject=["BridgeService","nxDebounce","$rootScope"],angular.module("dacangRemix").factory("authorizationInterceptor",e);angular.extend}(),function(){"use strict";function e(){this.topNavItems=[{title:"推荐",sref:"recommend",active:!1},{title:"关注",sref:"follow",active:!0},{title:"掌门说",sref:"master-say",active:!0},{title:"精华",sref:"sticky",active:!0}],this.masterNavItems=[{title:"全部",active:!1,sref:"master.all"},{title:"未处理",active:!1,sref:"master.unhandled"},{title:"已处理",active:!1,sref:"master.handled"}],this.topNavList=["main.recommend","main.follow","main.master-say","main.sticky"],this.masterNavList=["master.all","master.unhandled","master.handled"]}angular.module("dacangRemix").service("RouteService",e)}(),function(){"use strict";function e(){this.topicItems=[{id:"HIGHLIGHT",text:"精华贴"},{id:"KNOWLEDGE",text:"知识贴"}],this.judgeItems=[{id:"NEW",text:"新",active:!1,img:"tag-zhongqi-new.png"},{id:"ASSAYS",text:"药",active:!1,img:"tag-zhongqi-assays.png"},{id:"DOUBT",text:"存疑",active:!1,img:"tag-zhongqi-doubt.png"},{id:"GENUINE",text:"大开门",active:!1,img:"tag-zhongqi-genuine.png"},{id:"EXQUISITE",text:"精品",active:!1,img:"tag-zhongqi-exquisite.png"},{id:"TRESON",text:"重器",active:!1,img:"tag-zhongqi-treson.png"}]}angular.module("dacangRemix").service("JudgeService",e)}(),function(e){"use strict";function t(e){var t=this;this.bridgeWarning=function(e){return t[e]||console.log("[Warning]: Hybrid bridge has not connect yet!"),t[e]},i(function(e){e.registerHandler("bridgeReady",function(e){}),t.share=function(t){e.callHandler("share",{modelId:t.modelId,type:t.type,title:t.type,image:t.image,imageURL:t.imageURL,description:t.description},function(e){alert("JS received response:"+JSON.stringify(e))})},t.back=function(){e.callHandler("back")},t.toLogin=function(){e.callHandler("login")},t.getToken=function(t){e.callHandler("getToken",null,function(e){t(e)})},t.setNavigationBar=function(t){e.callHandler("setNavigationbar",{isHidden:t.hidden,isAnimation:t.animation})},t.toggleTabBar=function(t){e.callHandler("toggleTabBar",{isHidden:t.hidden})},t.toMemberIndex=function(t){e.callHandler("gotoMemberMainPage",{memberID:t.memberID})}})}function i(t){if(e.WebViewJavascriptBridge)return t(WebViewJavascriptBridge);if(e.WVJBCallbacks)return e.WVJBCallbacks.push(t);e.WVJBCallbacks=[t];var i=document.createElement("iframe");i.style.display="none",i.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(i),setTimeout(function(){document.documentElement.removeChild(i)},0)}t.$inject=["$rootScope"],angular.module("dacangRemix").service("BridgeService",t);angular.extend}(window),function(){"use strict";function e(e){function t(e,t){var i=+new Date,n=+new Date(t);return Math.abs(moment.utc(n-i).unix())}function i(t,i){var n=t||0,a=document.querySelectorAll(".photo-swipe")[0],s=[];i.forEach(function(t){s.push({src:e+"/"+t,w:800,h:600})});var o=new PhotoSwipe(a,PhotoSwipeUI_Default,s,{index:n,history:!1,preload:[1,2]});o.init()}function n(){for(var e={},t=window.location.search.substring(1),i=t.split("&"),n=0;n<i.length;n++){var a=i[n].split("=");if("undefined"==typeof e[a[0]])e[a[0]]=decodeURIComponent(a[1]);else if("string"==typeof e[a[0]]){var s=[e[a[0]],decodeURIComponent(a[1])];e[a[0]]=s}else e[a[0]].push(decodeURIComponent(a[1]))}return e}return{toTimer:t,getLocationSearch:n,showPhotoSwipe:i}}e.$inject=["IMGSERVER"],angular.module("dacangRemix").factory("utils",e)}(),function(){"use strict";function e(e,t,i,n,a){function s(e,t){var i=e[t],n=t.charAt(0).toUpperCase()+t.slice(1),a=i?"remove":"add";return this[a+n](e)}this.getLatest=function(e){return a.POST("/mobile/pmall/findPostByPage_200",{data:{page:e.page||1,rows:e.rows||10}})},this.getFollow=function(e){return a.POST("/mobile/pmall/findFocusPostByPage_200",{data:{page:e.page||1,rows:e.rows||10}})},this.getMasterSay=function(e){return a.POST("/mobile/pmall/findMasterReplyPostByPage_200",{data:{page:e.page||1,rows:e.rows||10,productType:e.productType||null}})},this.getParamListByType=function(e){return a.POST("/mobile/pmall/getParamListByType_200",{data:{type:e.type||"PRD_TYPE",scope:e.scope||2}})},this.findMasterByProductType_200=function(e){return a.POST("/mobile/pmall/findMasterByProductType_200",{data:{page:e.page||1,rows:e.rows||10,productType:e.productType||null}})},this.getSticky=function(e){return a.POST("/mobile/pmall/findHighlightPostByPage_200",{data:{page:e.page||1,rows:e.rows||10}})},this.getTopReplyByPostId=function(e){return a.POST("/mobile/pmall/findTopReplyByPostId_200",{data:{page:e.page||1,rows:e.rows||10,postId:e.postId||null}})},this.getReplyByTopReplyId=function(e){return a.POST("/mobile/pmall/findReplyByTopReplyId_200",{data:{page:e.page||1,rows:e.rows||10,topReplyId:e.topReplyId||null}})},this.getSupportCount=function(e){return a.POST("/mobile/pmall/getPostUpvotedCount_200",{data:{page:e.page||1,rows:e.rows||10,postId:e.postId||null}})},this.getFavoriteState=function(e){return a.POST("/mobile/isMemberFavoritePost_200",{data:{page:e.page||1,rows:e.rows||10,postId:e.postId||null}})},this.findManagedPostByPage=function(e){var t=e.memberRole;switch(t){case"MASTER":return this.findMasterManagedPostByPage_200(e);case"SUPER_MASTER":return this.findAdminManagedPostByPage_200(e);default:return}},this.findAdminManagedPostByPage_200=function(e){return a.POST("/mobile/findAdminManagedPostByPage_200",{data:{page:e.page||1,rows:e.rows||10,topic:e.topic||null,productType:e.productType||null,execute:e.execute||null}})},this.findMasterManagedPostByPage_200=function(e){return a.POST("/mobile/findMasterManagedPostByPage_200",{data:{page:e.page||1,rows:e.rows||10,topic:e.topic||null,productType:e.productType||null,execute:e.execute||null}})},this.addReplyForPost_200=function(e){return a.POST("/mobile/addReplyForPost_200",{data:{postId:e.postId||null,content:e.content||null,clientType:"H5"}})},this.addReplyForReply_200=function(e){return a.POST("/mobile/addReplyForReply_200",{data:{parentReplyId:e.parentReplyId||null,content:e.content||null,clientType:"H5"}})},this.addPostUpvote_200=function(e){return a.POST("/mobile/addPostUpvote_200",{data:{postId:e.postId||null}})},this.addReplyUpvote_200=function(e){return a.POST("/mobile/addReplyUpvote_200",{data:{replyId:e.replyId||null}})},this.getParamListByType_112=function(e){return a.POST("/mobile/pmall/getParamListByType_112",{data:{type:e.type||"POST_TOPIC_TYPE"}})},this.judgePostByMaster=function(e){var t=e.memberRole;switch(t){case"MASTER":return this.tastePostByMaster_200(e);case"SUPER_MASTER":return this.tastePostByAdmin_200(e)}},this.tastePostByMaster_200=function(e){return a.POST("/mobile/tastePostByMaster_200",{data:{id:e.id,productType:e.productType||null,identifyResult:e.identifyResult||null,classify:e.classify||null,replyContent:e.replyContent||null,clientType:e.clientType||"H5"}})},this.tastePostByAdmin_200=function(e){return a.POST("/mobile/tastePostByAdmin_200",{data:{id:e.id,productType:e.productType||null,identifyResult:e.identifyResult||null,classify:e.classify||null,replyContent:e.replyContent||null,clientType:e.clientType||"H5"}})},this.transferPostByMaster_200=function(e){return a.POST("/mobile/transferPostByMaster_200",{data:{id:e.id||null,productType:e.productType||null}})},this.findMyPostById_200=function(e){return a.POST("/mobile/findMyPostById_200",{data:{postId:e.postId}})},this.deletePostById_200=function(e){return a.POST("/mobile/deletePostById_200",{data:{postId:e.postId}})},this.findPostUpvotedMemberIconByPostId_200=function(e){return a.POST("/mobile/pmall/findPostUpvotedMemberIconByPostId_200",{data:{postId:e.postId}})},this.getMemberRole_200=function(e){return a.POST("/mobile/getMemberRole_200",{data:{}})},this.addOrDeleteFocus_112=function(e){return a.POST("/mobile/addOrDeleteFocus_112",{data:{targetMemberId:e.targetMemberId||null,focus:e.focus||null}})},this.findTastePostById_200=function(e){return a.POST("/mobile/findTastePostById_200",{data:{postId:e.postId||null}})},this.findPostById_200=function(e){return a.POST("/mobile/pmall/findPostById_200",{data:{postId:e.postId||null}})},this.toggleFollow=function(e){var i=e.focus,n=i?"取消关注~":"关注成功~";a.POST("/mobile/addOrDeleteFocus_112",{data:{targetMemberId:e.memberId,focus:!i}}).success(function(s){a.isSuccess(s)&&(e.focus=!i,t.info(n))})},this.addFavorite=function(e){a.POST("/mobile/addPostFavorite_200",{data:{postId:e.id||null}}).success(function(i){a.isSuccess(i)&&(t.info("收藏成功~"),e.favorite=!0)})},this.removeFavorite=function(e){a.POST("/mobile/deletePostFavorite_200",{data:{postId:e.id||null}}).success(function(i){a.isSuccess(i)&&(t.info("取消收藏~"),e.favorite=!1)})},this.addUpvoted=function(e){a.POST("/mobile/addPostUpvote_200",{data:{postId:e.id||null}}).success(function(i){a.isSuccess(i)&&(t.info("成功点赞~"),e.upvoted=!0,e.upvoteCount=parseInt(e.upvoteCount)+1)})},this.removeUpvoted=function(e){a.POST("/mobile/deletePostUpvote_200",{data:{postId:e.id||null}}).success(function(i){a.isSuccess(i)&&(t.info("取消点赞~"),e.upvoted=!1,e.upvoteCount=parseInt(e.upvoteCount)-1)})},this.addReplyUpvoted=function(e){a.POST("/mobile/addReplyUpvote_200",{data:{replyId:e.id||null}}).success(function(i){a.isSuccess(i)&&(e.upvoted=!0,e.upvoteCount=parseInt(e.upvoteCount)+1,t.info("成功点赞~"))})},this.removeReplyUpvoted=function(e){a.POST("/mobile/deleteReplyUpvote_200",{data:{replyId:e.id||null}}).success(function(i){a.isSuccess(i)&&(e.upvoted=!1,e.upvoteCount=parseInt(e.upvoteCount)-1,t.info("取消点赞~"))})},this.toggleFavorite=function(e){s.call(this,e,"favorite")},this.toggleSupport=function(e){s.call(this,e,"upvoted")},this.toggleReplySupport=function(e){e.upvoted?this.removeReplyUpvoted(e):this.addReplyUpvoted(e)},this.toTopicDetail=function(t){e.go("topic-detail",{postId:t.id})},this.share=function(e){i.share({modelId:e.id,title:e.linkTitle,type:e.topicType,image:e.linkFileName,imageURL:n+e.linkFileName,description:e.content})},this.toMemberIndex=function(e){i.toMemberIndex({memberID:e.memberID})}}e.$inject=["$state","toastr","BridgeService","IMGSERVER","ApiService"],angular.module("dacangRemix").service("AppService",e)}(),function(){"use strict";function e(){return function(e){var t=String(e).replace(/-/g,"/");return new Date(t).getTime()||Date.now()}}function t(e){return function(){return e().unix()}}function i(e){return function(t){var i=1*t;return i=i>12?12:i,"user-level-"+e(i,2)+".png"}}function n(){return function(e,t){var i=parseInt(e,10);if(t=parseInt(t,10),isNaN(i)||isNaN(t))return e;for(i=""+i;i.length<t;)i="0"+i;return i}}function a(e){return function(t){var i;return e.judgeItems.forEach(function(e,n){e.id==t&&(i=e.img)}),i}}function s(e){return c(e,"judgeItems")}function o(e){return c(e,"topicItems")}function c(e,t){return function(i){var n=-1;return e[t].forEach(function(e,t){e.id==i&&(n=t)}),n}}a.$inject=["JudgeService"],s.$inject=["JudgeService"],o.$inject=["JudgeService"],i.$inject=["padFilter"],t.$inject=["moment"],angular.module("dacangRemix").filter("pad",n).filter("toJudgeImg",a).filter("judgeItemToIndex",s).filter("topicItemToIndex",o).filter("toLevelImage",i).filter("toUnixTimestamp",t).filter("toTimestamp",e)}(),function(){"use strict";function e(e,i,n,a){function s(e){return n+e}function o(e){return angular.forEach(e.data,function(t,i){null==t&&delete e.data[i]}),e}function c(e){return e?"Bearer "+e:null}this.REQUEST=function(n,l,r){var d=a.getLocationSearch();return e(t({headers:o(t({Authorization:c(i.dcToken||d.dctoken),clientType:"H5","Content-Type":"application/x-www-form-urlencoded"},r.headers||{})),transformRequest:function(e){var t,i,n=[];for(t in e)i=e[t],n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")},method:n,url:s(l)},o(r)))},this.GET=function(e,i){var n=i.data||i.params||{};return this.REQUEST("GET",e,t(i,{params:n}))},this.POST=function(e,t){return this.REQUEST("POST",e,t)},this.isSuccess=function(e){return"FAILD"!==e.result}}e.$inject=["$http","$rootScope","APISERVER","utils"],angular.module("dacangRemix").service("ApiService",e);var t=angular.extend}(),function(){"use strict";function e(e,t,i,n,a,s,o,c,l,r){function d(){y=1,w=3,x.items=[],x.replyContent=null,x.replyPlaceholder="说点什么呢",x.currentReplyItem=null,p(),u(),m()}function m(){c.getTopReplyByPostId({page:y,rows:w,postId:S}).success(function(e){var t=e.rows;x.hasMoreData=t.length===w,x.items=x.items.concat(t)})["finally"](function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete")}),y++}function u(){c.findPostUpvotedMemberIconByPostId_200({postId:S}).success(function(e){x.upvoted=e,console.log(e)})}function p(){c.findPostById_200({postId:S}).success(function(e){x.detail=e,x.detail.images=I(e.attachments),x.detail.adUrl=n.trustAsResourceUrl(e.content)})}function v(){x.currentReplyItem?h():b()}function g(e){x.currentReplyItem=e,x.replyPlaceholder="回复"+e.memberNickname+":",x.fbFocus=!0}function f(){var e=i.topicFromState;e?s.go(e.name||"main.recommend"):l.back&&l.back()}function h(){c.addReplyForReply_200({parentReplyId:x.currentReplyItem.id,content:x.replyContent}).success(function(e){d()})}function b(){c.addReplyForPost_200({postId:S,content:x.replyContent}).success(function(e){d()})}function I(e){return(e||"").split(",")}var y,w,x=this,S=a.postId;window.vm=x,x.doRefresh=d,x.loadMore=m,x.detail={images:null,data:null,adUrl:null},x.fbFocus=!1,x.appService=c,x.replyContent=null,x.replyPlaceholder="说点什么呢",x.save=v,x.cgReply=g,x.replyItem=null,x.utils=o,x.userItem=r.get("userItem"),x.back=f,d()}e.$inject=["$timeout","$scope","$rootScope","$sce","$stateParams","$state","utils","AppService","BridgeService","localStorageService"],angular.module("dacangRemix").controller("TopicDetailController",e)}(),function(){"use strict";function e(e,t,i){function n(){a.item=i.get("master-detail")}var a=this;a.item=null,n()}e.$inject=["$timeout","toastr","localStorageService"],angular.module("dacangRemix").controller("MasterDetailController",e)}(),function(){"use strict";function e(e,t,i,n,a){function s(){}function o(){var e=i.currentIndex();t.go(a.topNavList[e])}var c=this;c.activeSlideIndex=e.topNavActiveIndex,c.slideChange=o,s()}e.$inject=["$rootScope","$state","$ionicSlideBoxDelegate","localStorageService","RouteService"],angular.module("dacangRemix").controller("MainController",e)}(),function(){"use strict";function e(e,t,i,n,a,s,o){function c(){o.getParamListByType({type:"PRD_TYPE"}).success(function(e){g.collectionChildItems=r(e),g.collectionChildActiveIndex=0})}function l(){o.getParamListByType_112({type:"POST_TOPIC_TYPE"}).success(function(e){g.topicChildItems=r(e),g.topicChildActiveIndex=0})}function r(e){return(e||[]).forEach(function(e){e.active=e.defaultOne}),e}function d(){return function(t){g.ddVisible=!1,e.topicCurrentItem=t,e.$emit("filterChange",{topicCurrentItem:t})}}function m(){var e=n.currentIndex();i.go(a.masterNavList[e])}function u(){t.$watchGroup([function(){return g.collectionChildActiveIndex},function(){return g.topicChildActiveIndex}],function(t){angular.isDefined(t[0])&&angular.isDefined(t[1])&&(e.collectionCurrentItem=g.collectionChildItems[t[0]],e.topicCurrentItem=g.topicChildItems[t[1]],e.$emit("filterChange",{collectionCurrentItem:g.collectionChildItems[t[0]],topicCurrentItem:g.topicChildItems[t[1]]}))})}function p(){o.getMemberRole_200().success(function(e){g.memberRole=e.result,l(),"SUPER_MASTER"===g.memberRole&&c()})}function v(){s.back&&s.back()}var g=this;g.activeSlideIndex=e.masterNavActiveIndex,g.ddVisible=!1,g.ddItemClick=d,g.dataAll=null,g.dataUnhandled=null,g.dataHanlded=null,g.memberRole="NORMAL",g.ddItems=[],g.collectionChildItems=[],g.collectionChildActiveIndex=void 0,g.topicChildItems=[],g.topicChildActiveIndex=void 0,g.slideChange=m,g.back=v,p(),u()}e.$inject=["$rootScope","$scope","$state","$ionicSlideBoxDelegate","RouteService","BridgeService","AppService"],angular.module("dacangRemix").controller("MasterController",e)}(),function(){"use strict";function e(e,t,i,n,a,s,o,c,l){function r(){I(),u(),v(),g(),f()}function d(e,t){switch(R.judgeStatus){case"NORMAL":x(e,t);break;case"DISABLED":S(e,t)}}function m(e){R.transferChangeStatus=e!==R.initProductType}function u(){n.getParamListByType({type:"PRD_TYPE"}).success(function(e){R.collectionCateItems=e})}function p(){n.findTastePostById_200({postId:t.postId}).success(function(e){R.judgeData=e,R.initProductType=e.productType})}function v(){e.$watch(function(){return R.collectionCateItems},function(e){e.length>0&&p()})}function g(){e.$watch(function(){return R.judgeData},function(e){if(e){var t=e.identifyCount;switch(R.judgeActiveIndex=c(e.identifyResult),R.topicActiveIndex=l(e.classify),_(e.replyVoList),t){case"0":case"1":R.judgeStatus="NORMAL";break;case"2":R.judgeStatus="DISABLED"}}},!0)}function f(){e.$watch(function(){return R.memberRole},function(e){switch(e){case"MASTER":R.judgeService.topicItems.pop()}})}function h(){w()}function b(e,t){R.topicCurrentItem=e,t.stopPropagation(),R.judgeService.topicItems.forEach(function(t,i){angular.equals(t,e)?(t.active=!t.active,R.topicActiveIndex=t.active?i:-1):t.active=!1})}function I(){n.getMemberRole_200().success(function(e){R.memberRole=e.result})}function y(){a.go("master.all")}function w(){return-1!==R.judgeActiveIndex||"SUPER_MASTER"===R.memberRole||R.transferChangeStatus?void n.judgePostByMaster({id:R.judgeData.id,memberRole:R.memberRole,productType:R.judgeData.productType,identifyResult:T("judge"),classify:T("topic"),replyContent:R.judgeContent,clientType:"H5"}).success(function(e){i.info("成功啦~"),a.go("master.all")}):(i.info("请选择一种鉴定结果~"),!1)}function x(e,t){R.judgeCurrentItem=e,t.stopPropagation(),R.judgeService.judgeItems.forEach(function(t,i){angular.equals(t,e)?(t.active=!t.active,R.judgeActiveIndex=t.active?i:-1):t.active=!1})}function S(e,t){t.stopPropagation()}function _(e){e.length>0&&(R.judgeContent=e[0].content)}function T(e){var t=R.judgeService[e+"Items"];return R[e+"ActiveIndex"]>-1?t[R[e+"ActiveIndex"]].id:void 0}var R=this;window.vm=R,R.topicActiveIndex=-1,R.judgeActiveIndex=-1,R.judgeService=s,R.collectionCateItems=[],R.collectionModel="",R.initProductType="",R.judgeData=null,R.memberRole="NORMAL",R.judgeStatus="NORMAL",R.transferChangeStatus=!1,R.judgeContent="",R.save=h,R.judgeItemClick=d,R.cateItemClick=b,R.judgeTransferChange=m,R.back=y,r()}e.$inject=["$scope","$stateParams","toastr","AppService","$state","JudgeService","BridgeService","judgeItemToIndexFilter","topicItemToIndexFilter"],angular.module("dacangRemix").controller("JudgeController",e)}(),function(){"use strict";function e(e,t,i,n,a,s,o,c,l,r,d){function m(e){return e.preventDefault(),e.stopPropagation(),!1}function u(){n(function(){var e=document.querySelector(".dacang-remix");angular.element(e).addClass("full-height"),c.toggleTabBar&&c.toggleTabBar({hidden:!0})})}function p(){n(function(){var e=document.querySelector(".dacang-remix");angular.element(e).removeClass("full-height"),c.toggleTabBar&&c.toggleTabBar({hidden:!1})})}function v(){console.log("check latest token!!!"),c.getToken&&c.getToken(function(e){t.dcToken=e})}var g=o.topNavList,f=o.masterNavList;t.topNavActiveIndex=0,t.IMG=d,t.masterNavActiveIndex=0,t.topNavVisible=!0,t.topicFromState=null,t.masterFromState=null,t.setFullScreen=u,t.$watch(r.isLoading,function(e){return e?a.show({template:'<ion-spinner icon="ios"></ion-spinner>',noBackdrop:!0}):a.hide()}),t.$on("$stateChangeStart",function(e,i,n,a,s){var o=i.name,c=g.indexOf(o),l=f.indexOf(o);switch(p(),v(),o){case"main.recommend":case"main.follow":case"main.master-say":case"main.sticky":t.topNavActiveIndex=c;break;case"master":case"master.all":case"master.unhandled":case"master.handled":u(),t.masterFromState=a,t.masterNavActiveIndex=l;break;case"master-detail":case"topic-detail":t.topicFromState=a,u()}}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".loading-container"),i=document.querySelector(".backdrop");t.$on("backdrop.shown",function(){s._element.off("selectstart touchmove"),s._element.on("selectstart touchmove",m)}),e.addEventListener("touchmove",m),i.addEventListener("touchmove",m),e.addEventListener("selectstart",m),i.addEventListener("selectstart",m)})}e.$inject=["$log","$rootScope","$state","$timeout","$ionicLoading","$ionicBackdrop","RouteService","BridgeService","localStorageService","nxIsLoading","IMGSERVER"],angular.module("dacangRemix").run(e)}(),function(){"use strict";function e(e,t){e.state("main",{url:"/main","abstract":!0,templateUrl:"app/main/index.html",controller:"MainController",controllerAs:"vm"}).state("main.recommend",{url:"/recommend",views:{recommend:{templateUrl:"app/main/recommend/index.html",controller:"MainRecommendController",controllerAs:"vm"}}}).state("main.follow",{url:"/follow",views:{follow:{templateUrl:"app/main/follow/index.html",controller:"MainFollowController",controllerAs:"vm"}}}).state("main.master-say",{url:"/master-say",views:{"master-say":{templateUrl:"app/main/master-say/index.html",controller:"MainMasterSayController",controllerAs:"vm"}}}).state("main.sticky",{url:"/sticky",views:{sticky:{templateUrl:"app/main/sticky/index.html",controller:"MainStickyController",controllerAs:"vm"}}}).state("master-detail",{url:"/master-detail",templateUrl:"app/master-detail/index.html",controller:"MasterDetailController",controllerAs:"vm"}).state("master",{url:"/master","abstract":!0,templateUrl:"app/master/index.html",controller:"MasterController",controllerAs:"vm"}).state("master.all",{url:"/all",views:{all:{templateUrl:"app/master/all/index.html",controller:"MasterAllController",controllerAs:"vm"}}}).state("master.handled",{url:"/handled",views:{handled:{templateUrl:"app/master/handled/index.html",controller:"MasterHandledController",controllerAs:"vm"}}}).state("master.unhandled",{url:"/unhandled",views:{unhandled:{templateUrl:"app/master/unhandled/index.html",controller:"MasterUnhandledController",
controllerAs:"vm"}}}).state("topic-detail",{url:"/topic-detail/:postId",templateUrl:"app/topic-detail/index.html",controller:"TopicDetailController",controllerAs:"vm"}).state("judge",{url:"/judge/:postId",templateUrl:"app/judge/index.html",controller:"JudgeController",controllerAs:"vm"}),t.otherwise("/main/recommend")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("dacangRemix").config(e)}(),function(){"use strict";angular.module("dacangRemix").constant("malarkey",malarkey).constant("moment",moment).constant("HTTP_TIMEOUT",2e3).constant("IMGSERVER","http://7xo9tp.com2.z0.glb.qiniucdn.com/").constant("APISERVER","http://192.168.10.30/app/interface")}(),function(){"use strict";function e(e,t,i,n,a,s,o){s.lang("zh-cn",{relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"}}),e.defaults.timeout=o,e.interceptors.push("authorizationInterceptor"),i.views.transition("none"),i.backButton.text("").icon("ion-chevron-left"),i.backButton.previousTitleText(!1),t.debugEnabled(!0),n.allowHtml=!0,n.timeOut=2e3,n.positionClass="toast-center",n.preventDuplicates=!1,n.preventOpenDuplicates=!0,n.progressBar=!1,a.setPrefix("iwa").setStorageType("localStorage").setNotify(!0,!0)}e.$inject=["$httpProvider","$logProvider","$ionicConfigProvider","toastrConfig","localStorageServiceProvider","moment","HTTP_TIMEOUT"],angular.module("dacangRemix").config(e)}(),angular.module("dacangRemix").run(["$templateCache",function(e){e.put("app/judge/index.html",'<ion-view class=judge-view><ion-nav-bar class=bar-assertive><ion-nav-title>品评</ion-nav-title><ion-nav-back-button class="button-clear force-shown" ng-click=vm.back()><i class="icon ion-ios-arrow-left"></i></ion-nav-back-button></ion-nav-bar><ion-content class=has-header><div class=blank-10></div><div class=list><div class="item item-icon-left item-select"><i class="icon ion-grid"></i> 藏品分类<select ng-model=vm.judgeData.productType ng-change=vm.judgeTransferChange(vm.judgeData.productType) ng-disabled="vm.judgeData.transferCount>0 && vm.memberRole !==\'SUPER_MASTER\'"><option value={{item.id}} ng-repeat="item in vm.collectionCateItems">{{item.text}}</option></select></div></div><div ng-if=!vm.transferChangeStatus><div class=blank-10></div><!--judge-result Start--><div class="bg-f padding judge-result"><!--<div class="blank-20"></div>--><h4 class="text-center f18 dc-title">请选择鉴定结果</h4><!--<div class="c-9 item item-divider">请选择鉴定结果</div>--><div class=blank-10></div><!--judgeItems start--><nx-active-items items=vm.judgeService.judgeItems active-index=vm.judgeActiveIndex css-class="row row-no-padding dc-list"><nx-active-item ng-repeat="item in vm.judgeService.judgeItems" class=col><!--vm.items.identifyCount鉴定次数--><judge-item-toggle active=item.active is-disabled="{{vm.judgeStatus == \'DISABLED\' && vm.memberRole !==\'SUPER_MASTER\'}}" ng-click=vm.judgeItemClick(item,$event)>{{item.text}}</judge-item-toggle></nx-active-item></nx-active-items><!--judgeItems end--><div class=blank-10></div></div><!--judge-result End--><!--category start--><div class=list><div class="c-9 item item-divider">话题分类</div><nx-active-items items=vm.judgeService.topicItems active-index=vm.topicActiveIndex><nx-active-item ng-repeat="item in vm.judgeService.topicItems"><div class="item item-toggle">{{item.text}} <span class="toggle toggle-balenced" ng-click=vm.cateItemClick(item,$event);><input type=checkbox ng-model=item.active><div class=track><div class=handle></div></div></span></div></nx-active-item></nx-active-items></div><!--category end--><!--setSticky Start--><div class=list><div class=blank-20></div><div class="item item-input"><!--vm.items.tasteCount品评次数--><textarea style=min-height:80px placeholder=说点什么吧 ng-model=vm.judgeContent ng-disabled="vm.judgeData.tasteCount > 1 && vm.memberRole !==\'SUPER_MASTER\'"></textarea></div></div><!--setSticky End--></div><div ng-if=vm.transferChangeStatus><div class=blank-40></div><div class="f18 c-9 text-center hlh30">温馨提示 ：其他掌门将接手您的工作</div><div class=blank-20></div></div><button class="button button-full button-assertive" ng-click=vm.save()>确定</button></ion-content></ion-view>'),e.put("app/main/index.html","<ion-view><ion-content scroll=false class=main-view><ion-slide-box slide-tabs-scrollable=false show-pager=false auto-play=false does-continue=false nx-ionic-slide-top-nav indicator-ratio=0.5 active-slide=vm.activeSlideIndex on-slide-changed=vm.slideChange()><ion-slide nx-ionic-slide-tab-label=推荐><ion-nav-view name=recommend></ion-nav-view></ion-slide><ion-slide nx-ionic-slide-tab-label=关注><ion-nav-view name=follow></ion-nav-view></ion-slide><ion-slide nx-ionic-slide-tab-label=掌门说><ion-nav-view name=master-say></ion-nav-view></ion-slide><ion-slide nx-ionic-slide-tab-label=精华><ion-nav-view name=sticky></ion-nav-view></ion-slide></ion-slide-box></ion-content></ion-view>"),e.put("app/master/index.html",'<ion-view><ion-nav-bar class=bar-assertive><ion-nav-back-button side=primary class="button-clear force-shown" ng-click=vm.back()><i class="icon ion-ios-arrow-left"></i></ion-nav-back-button><ion-nav-buttons side=right><button class="button button-small button-clear" ng-if="(vm.memberRole!=\'SUPER_MASTER\')" ng-click="vm.ddVisible=true;">筛选</button></ion-nav-buttons><ion-nav-title>掌门人</ion-nav-title><nx-rt-dropdown visible={{vm.ddVisible}} items=vm.topicChildItems item-click=vm.ddItemClick() css-class=master-dropdown></nx-rt-dropdown></ion-nav-bar><ion-content scroll=false class=master-view><sub-tab-filter ng-if="vm.memberRole==\'SUPER_MASTER\'" collection-child-items=vm.collectionChildItems topic-child-items=vm.topicChildItems collection-child-active-index=vm.collectionChildActiveIndex topic-child-active-index=vm.topicChildActiveIndex></sub-tab-filter><ion-slide-box slide-tabs-scrollable=false show-pager=false auto-play=false does-continue=false nx-ionic-slide-top-nav active-slide=vm.activeSlideIndex on-slide-changed=vm.slideChange()><ion-slide nx-ionic-slide-tab-label=全部><ion-nav-view name=all></ion-nav-view></ion-slide><ion-slide nx-ionic-slide-tab-label=未处理><ion-nav-view name=unhandled></ion-nav-view></ion-slide><ion-slide nx-ionic-slide-tab-label=已处理 name=handled><ion-nav-view name=handled></ion-nav-view></ion-slide></ion-slide-box></ion-content></ion-view>'),e.put("app/master-detail/index.html",'<ion-view class=master-detail-view cache-view=false hide-nav-bar=true nx-prevent-body-move><ion-content scroll=false><div class=bd><!--ng-src="{{IMG+vm.item.background}}" --> <img ng-src={{IMG+vm.item.background}}> <a ui-sref=" main.master-say"><div class=bd-arrow><i class=ion-ios-arrow-left data-pack=ios data-tags=chevron></i></div></a><div class="bd-des padding"><div class="lfix_ clfix"><h1 class=c-f>{{vm.item.nickname}}</h1><span class="c-f f22 bd-experience">●从业{{vm.item.careerAge}}年</span></div><p class="c-f f12">{{vm.item.signature}}</p><div class=blank-10></div><div class=hr></div><div class=blank-10></div><p class=c-f>{{vm.item.profile}}</p><div class=blank-10></div></div></div></ion-content></ion-view>'),e.put("app/topic-detail/index.html",'<ion-view class=topic-detail-view><ion-nav-bar class=bar-assertive><ion-nav-title>话题详情</ion-nav-title><ion-nav-back-button side=primary class="button-clear force-shown" ng-click=vm.back()><i class="icon ion-ios-arrow-left"></i></ion-nav-back-button><ion-nav-buttons side=secondary class=secondary-buttons><button class="button button-small button-clear" ng-click=vm.appService.toggleFavorite(vm.detail) ng-if="vm.detail.topicType==\'P_T_T_01\' || vm.detail.topicType==\'P_T_T_02\'"><i class="icon ion-ios-star" data-active={{vm.detail.favorite}}></i></button> <button ng-click=vm.appService.share(vm.detail) class="button button-small button-clear"><i class="icon ion-share"></i></button></ion-nav-buttons></ion-nav-bar><ion-content class="has-footer has-header"><!--下拉刷新--><ion-refresher pulling-text=下拉刷新 on-refresh=vm.doRefresh()></ion-refresher><div class="padding hd"><!--用户信息区 start--><section class=hd-user><div class=row><div class="col-20 hd-left"><div class=hd-img><img ng-src={{IMG+vm.detail.memberIcon}}></div></div><div class="col-80 hd-right"><div class="rel wp-10"><h1 class="l c-3 f16 hlh24">{{vm.detail.memberNickname}}</h1><div ng-click=vm.appService.toggleFollow(vm.detail)><tag class="l lfix" active={{vm.detail.focus}}>{{ vm.detail.focus ? \'已关注\':\'+关注\'}}</tag></div><span class="c-9 campaign" ng-if="vm.detail.topicType==\'P_T_T_04\'">推广</span></div><div class=hlh26><img class=member-level ng-src="assets/images/{{vm.detail.memberLevel | toLevelImage}}"></div></div></div><div ng-if=vm.detail.identifyResult><img class=seal ng-src="assets/images/{{ vm.detail.identifyResult | toJudgeImg}}"></div></section><!--用户信息区 end--></div><div class=bd><div><!--帖子图片区 start--><section class=img-list ng-if="vm.detail.topicType==\'P_T_T_01\' || vm.detail.topicType==\'P_T_T_02\'"><figure ng-repeat="item in vm.detail.images " ng-click="vm.utils.showPhotoSwipe($index,vm.detail.images )"><img ng-src="{{IMG + item}}" class=il-img></figure></section><!--帖子图片区 end--><!--帖子详情描述区 start--><section class="td-detail padding" ng-if=!!vm.detail.content><span data-essenceactive={{vm.userItem.highlight}} class="c-f f14" hidden>精</span><iframe ng-src={{vm.detail.adUrl}} ng-if="vm.detail.topicType==\'P_T_T_04\'" width=100% height=100% style="min-height: 300px"></iframe><p class="f16 c-6 lh24" ng-if="vm.detail.topicType != \'P_T_T_04\'">{{vm.detail.content}}</p></section><!--帖子详情描述区 end--><section class=padding><span class="hd-countDown c-6 f12" am-time-ago=vm.detail.createTime></span></section></div><section class=padding><!--link-share start--><link-share snapshot={{IMG+vm.detail.linkFileName}} ng-if="vm.detail.topicType==\'P_T_T_03\'">{{vm.detail.linkTitle}}</link-share><!--link-share end--></section><!--关注此贴子的会员展示区 start--><section class="padding td-user upvoted-list" ng-if="vm.upvoted.rows.length>0"><ul><li ng-repeat="item in vm.upvoted.rows track by $index"><figure><img ng-src="{{IMG + item}}"></figure></li></ul><div class="td-user-num c-6">{{vm.detail.upvoteCount}}</div></section><!--关注此贴子的会员展示区 end--><div class=blank-10></div><!--帖子评论区 start--><section class=dc-feedback><!--fb-item start--><div class=fb-item ng-repeat="item in vm.items"><div class="row padding"><div class="col-20 fb-left"><div class=fb-img><img ng-src="{{IMG + item.memberIcon}}"></div></div><div class="col-80 fb-right lfix_"><div class=wp-8><div class="hlh26 fb-owners-one"><ul><li><div class="l f16 c-715100 mr5">{{item.memberNickname}}</div></li><li><img class=fb-owners ng-if=item.masterReply src=assets/images/mdf_evaluate1@2x.png></li></ul></div><div class=hlh26><span class="fb-count-down c-9 f12">{{item.createTime}}</span></div></div><div class=wp-2><span class="fb-upvoted f18 r" ng-click=vm.appService.toggleReplySupport(item)><i class="dc-icon-upvote mr5" data-active={{item.upvoted}} data-pack=default data-tags="like, fun, yes"></i><span class="c-9 f16">{{item.upvoteCount || 0}}</span></span></div></div></div><div class=row><div class="col-80 col-offset-20 c-9"><p ng-click=vm.cgReply(item)>{{item.content}}</p><div class="col c-9 reply-div-top" style=padding:0 ng-if="item.replyVoList.length>0"><div class=reply-jt></div><div class=reply-div><div ng-repeat="v in item.replyVoList" class=replay-p ng-click=vm.cgReply(v)><ul><li><span class="reply-name mr5" master-active={{v.masterReply}}>{{v.memberNickname}}</span></li><li><img class="replay-img mr5" src=assets/images/mdf_evaluate1@2x.png ng-if=v.masterReply></li><li><span class="reply-mh mr5">:</span></li><li>回复</li><li><span class="reply-to-name mr5" master-active={{v.replyMaster}}>{{v.parentReplyMemberNickname}}</span></li><li><img class="replay-img mr5" src=assets/images/mdf_evaluate1@2x.png ng-if=v.replyMaster></li><li><span class="reply-mh mr5">:</span></li></ul>{{v.content}}</div></div></div></div></div></div><!--fb-item end--><!--上拉加载更多的数据 start--><div class="no-more c-9 text-center padding" ng-if=!vm.hasMoreData><i class="ion ion-sad"></i> <span>没有更多的数据了</span></div><ion-infinite-scroll ng-if=vm.hasMoreData on-infinite=vm.loadMore() distance=1%></ion-infinite-scroll><!--上拉加载更多的数据 end--></section><!--帖子评论区 end--></div></ion-content><div class=fixed-replay-box nx-prevent-body-move><!--评论输入区 start--><section><div class=fb-tip><div class=fb-des>{{vm.detail.commentCount||0}}条评论</div><div class=fb-jt></div></div><div class=fb-write><div class=row><div class=wp-7><input class=dc-in data-focus={{vm.fbFocus}} ng-focus="vm.fbFocus=true" ng-blur="vm.fbFocus=false" placeholder={{vm.replyPlaceholder}} ng-model=vm.replyContent></div><div class=wp-3><div class=row ng-if=!(vm.fbFocus||!!vm.replyContent)><div class="col v-a-middle" ng-click=vm.appService.toMemberIndex({memberID:vm.detail.id})><img src=assets/images/but_shop_normal@3x.png width=16 class=v-a-middle></div><div class="col action-upvoted v-a-middle" ng-click=vm.appService.toggleSupport(vm.detail)><i class="dc-icon-upvote mr5 v-a-middle" data-active={{vm.detail.upvoted}} data-pack=default data-tags="like, fun, yes"></i><span class="f16 c-9 v-a-middle">{{vm.detail.upvoteCount}}</span></div></div><div ng-if=vm.fbFocus||!!vm.replyContent class=text-center><button class=btn-send ng-click=vm.save()>发送</button></div></div></div></div></section></div></ion-view>'),e.put("app/components/judge-item-toggle/tmpl.html",'<div class="judge-item-toggle {{cssClass}}" data-active={{active}} data-disabled={{isDisabled}}><div class=inner ng-transclude></div></div>'),e.put("app/components/link-share/tmpl.html",'<a class="row row-no-padding link-share"><div class=col><img ng-src={{snapshot}} alt=""></div><div class="col-80 right" ng-transclude></div></a>'),e.put("app/components/photo-swipe/tmpl.html",'<!-- .photo-swipe Start--><!-- Root element of PhotoSwipe. Must have class pswp. --><div class="pswp photo-swipe" tabindex=-1 role=dialog aria-hidden=true><!-- Background of PhotoSwipe.\n       It\'s a separate element as animating opacity is faster than rgba(). --><div class=pswp__bg></div><!-- Slides wrapper with overflow:hidden. --><div class=pswp__scroll-wrap><!-- Container that holds slides.\n        PhotoSwipe keeps only 3 of them in the DOM to save memory.\n        Don\'t modify these 3 pswp__item elements, data is added later on. --><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. --><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><!--  Controls are self-explanatory. Order can be changed. --><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR --><!-- element will get class pswp__preloader--active when preloader is running --><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><!-- .photo-swipe   End-->'),e.put("app/components/radio/tmpl.html",'<div class=dc-radio data-active={{active}}><i class="icon ion-ios-checkmark"></i> <span ng-transclude></span></div>'),e.put("app/components/sub-nav/tmpl.html",'<div class=dc-sub-nav><section class=bd><nx-active-items items=items active-index=activeIndex css-class="row row-no-padding"><nx-active-item ng-repeat="item in items" class=col><a ui-sref={{item.sref}}><span>{{item.title}}</span></a></nx-active-item><b class=bar ng-style="{width:100/items.length+\'%\',left:100*activeIndex/items.length+\'%\'}"></b></nx-active-items></section></div>'),e.put("app/components/sub-tab-filter/tmpl.html",'<div class=dc-inline-overlay nx-prevent-body-move data-visible={{tabFilterItems[activeIndex].active}} ng-click="tabFilterItems[activeIndex].active=false"></div><!--dc-tab-filter start--><nav class=dc-tab-filter><ul class="bg-f text-center row row-no-padding"><li class=col ng-repeat="item in tabFilterItems" ng-click=toggle(item,$event) data-active={{item.active}}><span>{{item.title}}</span> <i class="icon ion-ios-arrow-down"></i></li></ul><b class=bar></b></nav><!--dc-tab-filter end--><!--todo:optimize bugyy code--><!--dc-tab-filter-content Start--><div class=dc-tab-filter-content ng-if=tabFilterItems[activeIndex].active><section ng-show="activeIndex==0"><nx-active-items items=collectionChildItems active-index=collectionChildActiveIndex css-class=header><nx-active-item ng-repeat="item in collectionChildItems" ng-click=collectionItemClick(item,collectionChildActiveIndex)><tag active={{item.active}}>{{item.text}}</tag></nx-active-item></nx-active-items></section><section ng-show="activeIndex==1"><nx-active-items items=topicChildItems active-index=topicChildActiveIndex css-class=header><nx-active-item ng-repeat="item in topicChildItems" ng-click=topicItemClick(item,topicChildActiveIndex)><tag active={{item.active}}>{{item.text}}</tag></nx-active-item></nx-active-items></section></div><!--dc-tab-filter-content End-->'),e.put("app/components/tag/tmpl.html","<span class=dc-tag data-active={{active}} ng-transclude></span>"),e.put("app/components/thread-item/tmpl.html",'<div class="padding dc-item thread-item" ng-repeat="item in vm.items"><!--用户信息区 start--><section class=hd><tag active=true ng-if="manage == \'true\'" tabindex=0 class=manage ng-click=vm.manage(item)>管理</tag><div class=row><div class="col-20 hd-left" ng-click=vm.appService.toMemberIndex({memberID:item.id})><div class=hd-img><img ng-src={{imgBaseUrl+item.memberIcon}}></div></div><div class="col-80 hd-right"><div class=wp-10><h1 class="l c-3 f16 hlh24">{{item.memberNickname}}</h1><div ng-click=vm.appService.toggleFollow(item)><tag class="l lfix" active={{!item.focus}}>{{ item.focus ? \'已关注\':\'+关注\'}}</tag></div><span class="c-9 campaign" ng-if="item.topicType==\'P_T_T_04\'">推广</span></div><div class=blank-5></div><div class=hlh26><!--<span class="hd-countDown c-6 f12" am-time-ago="item.createTime"></span>--> <img class=member-level ng-src="assets/images/{{item.memberLevel | toLevelImage}}" alt=""></div></div></div><div ng-if=item.identifyResult><img class=seal ng-src="assets/images/{{item.identifyResult | toJudgeImg}}"></div></section><!--用户信息区 end--><!--帖子详情 start--><section class=bd ng-click=vm.appService.toTopicDetail(item)><img src=../../../assets/images/mdf_essence@3x.png width=23 ng-if="item.classify==\'HIGHLIGHT\'"> <img src=../../../assets/images/mdf_knowledge@3x.png width=57 ng-if="item.classify==\'KNOWLEDGE\'"><p class="remark f14 c-9 lh20">{{item.content}}</p><!--link-share start--><link-share snapshot={{imgBaseUrl+item.linkFileName}} ng-click=vm.toTopicDetail(item) ng-if="item.topicType==\'P_T_T_03\'">{{item.linkTitle}}</link-share><!--link-share end--><figure ng-if="item.topicType==\'P_T_T_01\' || item.topicType==\'P_T_T_02\'"><img ng-src={{imgBaseUrl+item.coverPage}} class=bd-img1></figure><!--掌门回复 start--><article class=bd-owners><div class=dc-item><ul ng-repeat="judgeItem in item.replyVoList"><li><span class=bd-owners-name>{{judgeItem.memberNickname}}</span></li><li><img src=assets/images/mdf_evaluate1@2x.png width=16></li><li><span class="c-0 f20">:</span></li><li><div class="c-9 bd-owners-des">{{judgeItem.content}}</div></li></ul></div></article><!--掌门回复 end--></section><!--帖子详情 end--><!--bd-share start--><section class="bd-share row row-no-padding ft"><div class="col-40 row-center"><span class="hd-countDown c-6 f12" am-time-ago=item.createTime></span></div><ul class="col-60 row-center f20"><li ng-click=vm.appService.toggleFavorite(item) ng-if="item.topicType==\'P_T_T_01\' || item.topicType==\'P_T_T_02\'"><i class="dc-icon-favorite action-favorite" data-active={{item.favorite}} data-pack=android data-tags="favorite, like, rate"></i></li><li ng-click=vm.appService.share(item) ng-if="item.topicType==\'P_T_T_01\' || item.topicType==\'P_T_T_02\'"><i class=dc-icon-share data-pack=default data-tags=outbound></i></li><li ng-click=vm.appService.toTopicDetail(item)><i class=dc-icon-comment data-pack=android data-tags="talk, text"></i></li><li ng-click=vm.appService.toggleSupport(item)><i class="dc-icon-upvote mr5" data-active={{item.upvoted}} data-pack=default data-tags="like, fun, yes"></i><span class="c-9 f16">{{item.upvoteCount}}</span></li></ul></section><!--bd-share end--></div>'),e.put("app/components/top-nav/tmpl.html",'<div class=dc-top-nav><section class=bd><nx-active-items items=items active-index=activeIndex css-class="row row-no-padding dc-top-nav-header"><nx-active-item ng-repeat="item in items" class=col><a ui-sref={{item.sref}}><span>{{item.title}}</span></a></nx-active-item></nx-active-items></section></div>'),e.put("app/main/follow/index.html",'<ion-view class=follow-view cache-view=false><ion-content><!--下拉刷新--><ion-refresher pulling-text=下拉刷新 on-refresh=vm.doRefresh()></ion-refresher><!--dc-thread-list start--><div class=dc-thread-list><thread-item vm=vm img-base-url={{IMG}}></thread-item><!--上拉加载更多的数据 start--><div class="no-more c-9 text-center padding" ng-if=!vm.hasMoreData><i class="ion ion-sad"></i> <span>没有更多的数据了</span></div><ion-infinite-scroll ng-if=vm.hasMoreData on-infinite=vm.loadMore() distance=1%></ion-infinite-scroll><!--上拉加载更多的数据 end--></div><!--dc-thread-list end--></ion-content></ion-view>'),e.put("app/main/master-say/index.html",'<ion-view class=master-say-view><ion-content><!--master-say-nav start--><div class=master-say-nav><section class=bd><nx-active-items items=vm.navItems active-index=vm.navActiveIndex css-class="row row-no-padding"><nx-active-item ng-repeat="item in vm.navItems" class=col><tag active={{item.active}}>{{item.text}}</tag></nx-active-item></nx-active-items></section></div><!--master-say-nav end--><!--master-list start--><section class=master-list><!--master-list-2 start--><div class=master-list-2 ng-if="vm.masterItems.length==2" data-index=2><img src=assets/images/dc007.png class=ma-sign><div class=row><div class=col ng-repeat="item in vm.masterItems"><figure ng-click=vm.toMasterDetail(item)><img ng-src={{IMG+item.background}} class=ma-list-bg><figcaption>{{item.nickname}}</figcaption></figure></div></div></div><!--master-list-2 end--><!--master-list-3 start--><div class=master-list-3 ng-if="vm.masterItems.length==3" data-index=3><img src=assets/images/dc007.png class=ma-sign><div class=blank-10></div><div class=dc-list><div class=dc-item ng-repeat="item in vm.masterItems"><figure ng-click=vm.toMasterDetail(item)><img ng-src={{IMG+item.background}} class=ma-list-bg><figcaption>{{item.nickname}}</figcaption></figure></div></div></div><!--master-list-3 end--><!--master-list-4 start--><div class=master-list-4 ng-if="vm.masterItems.length==4" data-index=4><img src=assets/images/dc007.png class=ma-sign><div class=blank-10></div><div class="wp-10 lfix_ dc-list"><div class=wp-5 ng-repeat="item in vm.masterItems"><figure ng-click=vm.toMasterDetail(item)><img ng-src={{IMG+item.background}} class=ma-list-bg><figcaption>{{item.nickname}}</figcaption></figure></div></div></div><!--master-list-4 end--></section><!--master-list end--><!--下拉刷新 start--><ion-refresher pulling-text=下拉刷新 on-refresh=vm.doRefresh()></ion-refresher><!--下拉刷新 end--><!--dc-thread-list start--><div class=dc-thread-list><thread-item vm=vm img-base-url={{IMG}}></thread-item><!--上拉加载更多的数据 start--><div class="no-more c-9 text-center padding" ng-if=!vm.hasMoreData><i class="ion ion-sad"></i> <span>没有更多的数据了</span></div><ion-infinite-scroll ng-if=vm.hasMoreData on-infinite=vm.loadMore() distance=1%></ion-infinite-scroll><!--上拉加载更多的数据 end--></div><!--dc-thread-list end--></ion-content></ion-view>'),e.put("app/main/recommend/index.html",'<ion-view class=recommend-view cache-view=false><ion-content><!--下拉刷新--><ion-refresher pulling-text=下拉刷新 on-refresh=vm.doRefresh()></ion-refresher><!--dc-thread-list start--><div class=dc-thread-list><thread-item vm=vm img-base-url={{IMG}}></thread-item><!--上拉加载更多的数据 start--><div class="no-more c-9 text-center padding" ng-if=!vm.hasMoreData><i class="ion ion-sad"></i> <span>没有更多的数据了</span></div><ion-infinite-scroll ng-if=vm.hasMoreData on-infinite=vm.loadMore() distance=1%></ion-infinite-scroll><!--上拉加载更多的数据 end--></div><!--dc-thread-list end--></ion-content></ion-view>'),e.put("app/main/sticky/index.html",'<ion-view class=sticky-view cache-view=false><ion-content><!--下拉刷新--><ion-refresher pulling-text=下拉刷新 on-refresh=vm.doRefresh()></ion-refresher><!--dc-thread-list start--><div class=dc-thread-list><thread-item vm=vm img-base-url={{IMG}}></thread-item><!--上拉加载更多的数据 start--><div class="no-more c-9 text-center padding" ng-if=!vm.hasMoreData><i class="ion ion-sad"></i> <span>没有更多的数据了</span></div><ion-infinite-scroll ng-if=vm.hasMoreData on-infinite=vm.loadMore() distance=1%></ion-infinite-scroll><!--上拉加载更多的数据 end--></div><!--dc-thread-list end--></ion-content></ion-view>'),e.put("app/master/all/index.html",'<ion-view title=掌门人 class="master-view all" cache-view=false><ion-content class=full-height><!--下拉刷新--><ion-refresher pulling-text=下拉刷新 on-refresh=vm.doRefresh()></ion-refresher><!--dc-thread-list start--><div class=dc-thread-list><thread-item vm=vm manage=true img-base-url={{IMG}}></thread-item><!--上拉加载更多的数据 start--><div class="no-more c-9 text-center padding" ng-if=!vm.hasMoreData><i class="ion ion-sad"></i> <span>没有更多的数据了</span></div><ion-infinite-scroll ng-if=vm.hasMoreData on-infinite=vm.loadMore() distance=1%></ion-infinite-scroll><!--上拉加载更多的数据 end--></div><!--dc-thread-list end--></ion-content></ion-view>'),e.put("app/master/handled/index.html",'<ion-view title=掌门人 class="master-view handled" cache-view=false><ion-content class=full-height><!--下拉刷新--><ion-refresher pulling-text=下拉刷新 on-refresh=vm.doRefresh()></ion-refresher><!--dc-thread-list start--><div class=dc-thread-list><thread-item vm=vm manage=true img-base-url={{IMG}}></thread-item><!--上拉加载更多的数据 start--><div class="no-more c-9 text-center padding" ng-if=!vm.hasMoreData><i class="ion ion-sad"></i> <span>没有更多的数据了</span></div><ion-infinite-scroll ng-if=vm.hasMoreData on-infinite=vm.loadMore() distance=1%></ion-infinite-scroll><!--上拉加载更多的数据 end--></div><!--dc-thread-list end--></ion-content></ion-view>'),e.put("app/master/unhandled/index.html",'<ion-view title=掌门人 class="master-view unhandled" cache-view=false><ion-content class=full-height><!--下拉刷新--><ion-refresher pulling-text=下拉刷新 on-refresh=vm.doRefresh()></ion-refresher><!--dc-thread-list start--><div class=dc-thread-list><thread-item vm=vm manage=true img-base-url={{IMG}}></thread-item><!--上拉加载更多的数据 start--><div class="no-more c-9 text-center padding" ng-if=!vm.hasMoreData><i class="ion ion-sad"></i> <span>没有更多的数据了</span></div><ion-infinite-scroll ng-if=vm.hasMoreData on-infinite=vm.loadMore() distance=1%></ion-infinite-scroll><!--上拉加载更多的数据 end--></div><!--dc-thread-list end--></ion-content></ion-view>')}]);
//# sourceMappingURL=../maps/scripts/app-756c08cea0.js.map
